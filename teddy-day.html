<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cootie ahh Teddy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Arial Rounded MT Bold', sans-serif;
        }

        :root {
            --primary: #FFB6C1;
            --secondary: #87CEEB;
            --accent: #FFD700;
            --dark: #5D4037;
            --light: #FFF5F7;
            --comfort: #C8E6C9;
            --tickle: #FFCCBC;
        }

        body {
            background: radial-gradient(circle at top left, var(--light) 0%, var(--secondary) 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            overflow-y: auto;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="%23FFB6C1" opacity="0.4"/><circle cx="12" cy="12" r="6" fill="%23FFB6C1" opacity="0.7"/><circle cx="12" cy="12" r="3" fill="white"/></svg>') 12 12, auto;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.92);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(93, 64, 55, 0.2),
                        inset 0 0 0 2px rgba(255, 255, 255, 0.5);
            padding: 30px;
            position: relative;
            z-index: 10;
            backdrop-filter: blur(8px);
            border: 6px solid rgba(255, 182, 193, 0.2);
            margin-bottom: 30px;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent), var(--primary));
            background-size: 300% 100%;
            animation: shimmer 5s infinite linear;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        h1 {
            color: var(--dark);
            font-size: 3.5rem;
            text-shadow: 3px 3px 0px rgba(255, 182, 193, 0.3);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        h1::before, h1::after {
            content: 'üß∏';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2.5rem;
            animation: float 4s ease-in-out infinite;
        }

        h1::before {
            left: -70px;
            animation-delay: 0.2s;
        }

        h1::after {
            right: -70px;
            animation-delay: 0.6s;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            min-height: 600px;
        }

        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
                min-height: auto;
            }
        }

        .teddy-section {
            position: relative;
            background: linear-gradient(145deg, #ffffff, #f9f9f9);
            border-radius: 25px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.05),
                        0 15px 40px rgba(0, 0, 0, 0.15);
            cursor: crosshair;
            min-height: 500px;
        }

        .teddy {
            width: 280px;
            height: 340px;
            position: relative;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 2;
            transform-origin: center bottom;
        }

        .teddy.patting {
            animation: patEffect 1s ease;
        }

        .teddy.tickling {
            animation: tickleEffect 0.8s ease infinite;
        }

        .teddy.hugging {
            animation: hugEffect 2s ease;
        }

        .teddy.sleeping {
            animation: sleepFloat 6s ease-in-out infinite;
        }

        .teddy-body {
            width: 260px;
            height: 220px;
            background: linear-gradient(to bottom, #D18B6B, #B87554);
            border-radius: 50% 50% 45% 45%;
            position: absolute;
            top: 120px;
            box-shadow: inset 0 -20px 0 rgba(0, 0, 0, 0.2),
                        0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .teddy-head {
            width: 220px;
            height: 200px;
            background: linear-gradient(to bottom, #D18B6B, #B87554);
            border-radius: 50%;
            position: absolute;
            top: 0;
            left: 20px;
            z-index: 3;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .ear {
            width: 65px;
            height: 75px;
            background: linear-gradient(to bottom, #D18B6B, #B87554);
            border-radius: 50%;
            position: absolute;
            top: -25px;
        }

        .ear-left {
            left: 25px;
            transform: rotate(-25deg);
        }

        .ear-right {
            right: 25px;
            transform: rotate(25deg);
        }

        .eye-container {
            position: absolute;
            width: 40px;
            height: 50px;
            top: 60px;
            transition: all 0.1s ease;
        }

        .eye-left-container {
            left: 50px;
        }

        .eye-right-container {
            right: 50px;
        }

        .eye {
            width: 35px;
            height: 45px;
            background: var(--dark);
            border-radius: 50%;
            position: absolute;
            top: 0;
            left: 0;
            transition: all 0.2s ease;
            overflow: hidden;
        }

        .eye.closed {
            height: 10px;
            background: var(--dark);
            border-radius: 10px;
            top: 20px;
        }

        .eye.closed .eye-shine {
            opacity: 0;
        }

        .eye-shine {
            width: 12px;
            height: 15px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 10px;
            left: 8px;
            transition: opacity 0.2s ease;
        }

        .pupil {
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 15px;
            left: 9px;
            transition: transform 0.05s ease;
        }

        .nose {
            width: 30px;
            height: 22px;
            background: var(--dark);
            border-radius: 50%;
            position: absolute;
            top: 110px;
            left: 95px;
            z-index: 4;
        }

        .mouth {
            width: 50px;
            height: 25px;
            border-bottom: 6px solid var(--dark);
            border-radius: 0 0 50% 50%;
            position: absolute;
            top: 145px;
            left: 85px;
            transition: all 0.3s ease;
            z-index: 4;
        }

        .mouth.smile {
            border-bottom: 10px solid var(--dark);
            height: 30px;
            border-radius: 0 0 60% 60%;
        }

        .mouth.laugh {
            width: 60px;
            border-bottom: 12px solid var(--accent);
            height: 35px;
            border-radius: 0 0 70% 70%;
            top: 140px;
            left: 80px;
        }

        .mouth.sleep {
            width: 40px;
            border-bottom: 4px solid var(--dark);
            border-radius: 50%;
            transform: rotate(90deg);
            top: 150px;
            left: 90px;
        }

        .arm {
            width: 90px;
            height: 60px;
            background: linear-gradient(to bottom, #D18B6B, #B87554);
            border-radius: 50%;
            position: absolute;
            top: 130px;
            z-index: 1;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .arm-left {
            left: -25px;
            transform: rotate(35deg);
        }

        .arm-right {
            right: -25px;
            transform: rotate(-35deg);
        }

        .arm.hug-left {
            transform: rotate(0deg) translateX(35px) translateY(-20px);
        }

        .arm.hug-right {
            transform: rotate(0deg) translateX(-35px) translateY(-20px);
        }

        .leg {
            width: 70px;
            height: 60px;
            background: linear-gradient(to bottom, #D18B6B, #B87554);
            border-radius: 50%;
            position: absolute;
            bottom: 0;
        }

        .leg-left {
            left: 70px;
        }

        .leg-right {
            right: 70px;
        }

        .interaction-section {
            display: flex;
            flex-direction: column;
            gap: 25px;
            overflow-y: auto;
            max-height: 600px;
            padding-right: 10px;
        }

        .interaction-section::-webkit-scrollbar {
            width: 8px;
        }

        .interaction-section::-webkit-scrollbar-track {
            background: rgba(255, 182, 193, 0.1);
            border-radius: 10px;
        }

        .interaction-section::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }

        .mood-display {
            background: linear-gradient(145deg, #ffffff, #f8f8f8);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 3px solid rgba(255, 182, 193, 0.3);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .mood-box {
            text-align: center;
            padding: 15px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .mood-box:hover {
            transform: translateY(-3px);
        }

        .mood-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
            color: var(--dark);
        }

        .mood-label {
            font-size: 1rem;
            color: var(--dark);
            opacity: 0.8;
        }

        .interactive-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .action-btn {
            background: linear-gradient(145deg, var(--primary), #FF8BA7);
            border: none;
            border-radius: 15px;
            padding: 20px 10px;
            color: white;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 8px 25px rgba(255, 182, 193, 0.4);
            position: relative;
            overflow: hidden;
        }

        .action-btn:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 15px 35px rgba(255, 182, 193, 0.5);
        }

        .action-btn:active {
            transform: translateY(0);
        }

        .action-emoji {
            font-size: 2.5rem;
            filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, 0.2));
        }

        .action-text {
            font-size: 1.2rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .special-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .feature-btn {
            background: white;
            border: 3px solid var(--primary);
            border-radius: 15px;
            padding: 15px 10px;
            color: var(--dark);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .feature-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
        }

        .feature-emoji {
            font-size: 2rem;
        }

        .feature-text {
            font-size: 1rem;
            font-weight: bold;
        }

        .effects-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 3;
        }

        .heart {
            position: absolute;
            color: var(--primary);
            font-size: 1.8rem;
            opacity: 0;
            z-index: 10;
            pointer-events: none;
        }

        .sparkle {
            position: absolute;
            color: var(--accent);
            font-size: 1.5rem;
            opacity: 0;
            z-index: 10;
            pointer-events: none;
        }

        .blanket {
            position: absolute;
            width: 100%;
            height: 150px;
            background: linear-gradient(to top, var(--secondary), #6EC6FF);
            bottom: -150px;
            border-radius: 25px 25px 0 0;
            z-index: 1;
            transition: bottom 2s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 -15px 30px rgba(0, 0, 0, 0.15);
        }

        .blanket.active {
            bottom: 0;
        }

        .secret-message {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 12px 25px;
            border-radius: 20px;
            color: var(--dark);
            font-size: 1.1rem;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            z-index: 20;
            text-align: center;
        }

        .secret-message.show {
            opacity: 1;
        }

        .season-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .season-btn {
            background: white;
            border: 2px solid var(--primary);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.3rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .season-btn:hover {
            transform: scale(1.1);
            background: var(--primary);
            color: white;
        }

        .season-btn.active {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes shimmer {
            0% { background-position: -300% 0; }
            100% { background-position: 300% 0; }
        }

        @keyframes heartFloat {
            0% { opacity: 0; transform: translateY(0) scale(0) rotate(0deg); }
            20% { opacity: 1; transform: translateY(-20px) scale(1) rotate(10deg); }
            100% { opacity: 0; transform: translateY(-100px) scale(0.5) rotate(20deg); }
        }

        @keyframes sparkleFloat {
            0% { opacity: 0; transform: translateY(0) rotate(0deg) scale(0); }
            20% { opacity: 1; transform: translateY(-20px) rotate(180deg) scale(1); }
            100% { opacity: 0; transform: translateY(-70px) rotate(360deg) scale(0); }
        }

        @keyframes patEffect {
            0%, 100% { transform: scale(1); }
            30% { transform: scale(0.95); }
            60% { transform: scale(1.02); }
        }

        @keyframes tickleEffect {
            0%, 100% { transform: translateX(0) scale(1); }
            25% { transform: translateX(-8px) scale(0.98); }
            75% { transform: translateX(8px) scale(0.98); }
        }

        @keyframes hugEffect {
            0%, 100% { transform: scale(1); }
            30% { transform: scale(1.15); }
            70% { transform: scale(1.15); }
        }

        @keyframes sleepFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        /* Scrollable extra features section */
        .extra-features {
            background: linear-gradient(145deg, #ffffff, #f8f8f8);
            border-radius: 25px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.1);
            border: 3px solid rgba(135, 206, 235, 0.3);
            max-height: 400px;
            overflow-y: auto;
        }

        .extra-features::-webkit-scrollbar {
            width: 8px;
        }

        .extra-features::-webkit-scrollbar-track {
            background: rgba(135, 206, 235, 0.1);
            border-radius: 10px;
        }

        .extra-features::-webkit-scrollbar-thumb {
            background: var(--secondary);
            border-radius: 10px;
        }

        .extra-title {
            color: var(--dark);
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .extra-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .extra-btn {
            background: white;
            border: 2px solid var(--secondary);
            border-radius: 15px;
            padding: 15px 10px;
            color: var(--dark);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .extra-btn:hover {
            background: var(--secondary);
            color: white;
            transform: translateY(-3px);
        }

        .extra-emoji {
            font-size: 2rem;
        }

        .extra-text {
            font-size: 1rem;
            font-weight: bold;
            text-align: center;
        }

        @keyframes snowFall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(500px) rotate(360deg); opacity: 0; }
        }

        @keyframes leafFall {
            0% { transform: translateY(-100px) rotate(0deg) translateX(0); opacity: 1; }
            100% { transform: translateY(500px) rotate(720deg) translateX(200px); opacity: 0; }
        }

        .snowflake {
            position: absolute;
            color: white;
            font-size: 1.2rem;
            opacity: 0;
            pointer-events: none;
            animation: snowFall 8s linear infinite;
        }

        .leaf {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0;
            pointer-events: none;
            animation: leafFall 10s linear infinite;
        }

        .flower {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0;
            pointer-events: none;
            animation: heartFloat 6s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DIS TEDDY IS ME, TAKE CARE OF KT MUHEHEHEHEHE </h1>
            <div class="season-toggle">
                <button class="season-btn active" id="springBtn">üå∏</button>
                <button class="season-btn" id="winterBtn">‚ùÑÔ∏è</button>
                <button class="season-btn" id="autumnBtn">üçÇ</button>
            </div>
        </div>
        
        <div class="main-content">
            <div class="teddy-section" id="teddyStage">
                <div class="teddy" id="teddy">
                    <div class="teddy-body"></div>
                    <div class="teddy-head" id="teddyHead">
                        <div class="ear ear-left"></div>
                        <div class="ear ear-right"></div>
                        
                        <div class="eye-container eye-left-container" id="eyeLeftContainer">
                            <div class="eye" id="eyeLeft">
                                <div class="eye-shine"></div>
                                <div class="pupil" id="pupilLeft"></div>
                            </div>
                        </div>
                        
                        <div class="eye-container eye-right-container" id="eyeRightContainer">
                            <div class="eye" id="eyeRight">
                                <div class="eye-shine"></div>
                                <div class="pupil" id="pupilRight"></div>
                            </div>
                        </div>
                        
                        <div class="nose"></div>
                        <div class="mouth" id="mouth"></div>
                    </div>
                    <div class="arm arm-left" id="armLeft"></div>
                    <div class="arm arm-right" id="armRight"></div>
                    <div class="leg leg-left"></div>
                    <div class="leg leg-right"></div>
                </div>
                
                <div class="effects-layer" id="effectsLayer"></div>
                <div class="blanket" id="blanket"></div>
                <div class="secret-message" id="secretMessage"></div>
            </div>
            
            <div class="interaction-section">
                <div class="mood-display">
                    <div class="mood-box" id="comfortBox" style="background: rgba(255, 182, 193, 0.1);">
                        <div class="mood-emoji">üòä</div>
                        <div class="mood-value" id="comfortValue">50%</div>
                        <div class="mood-label">Comfort Level</div>
                    </div>
                    
                    <div class="mood-box" id="energyBox" style="background: rgba(135, 206, 235, 0.1);">
                        <div class="mood-emoji">‚ö°</div>
                        <div class="mood-value" id="energyValue">70%</div>
                        <div class="mood-label">Energy Level</div>
                    </div>
                </div>
                
                <div class="interactive-grid">
                    <button class="action-btn" id="feedBtn">
                        <div class="action-emoji">üçØ</div>
                        <div class="action-text">Feed Honey</div>
                    </button>
                    
                    <button class="action-btn" id="hugBtn">
                        <div class="action-emoji">ü´Ç</div>
                        <div class="action-text">Big Hug</div>
                    </button>
                    
                    <button class="action-btn" id="tuckBtn">
                        <div class="action-emoji">üò¥</div>
                        <div class="action-text">Cozy Nap</div>
                    </button>
                    
                    <button class="action-btn" id="danceBtn">
                        <div class="action-emoji">üíÉ</div>
                        <div class="action-text">Dance Party</div>
                    </button>
                    
                    <button class="action-btn" id="spinBtn">
                        <div class="action-emoji">üåÄ</div>
                        <div class="action-text">Spin Around</div>
                    </button>
                    
                    <button class="action-btn" id="surpriseBtn">
                        <div class="action-emoji">üéÅ</div>
                        <div class="action-text">Surprise!</div>
                    </button>
                </div>
                
                <div class="special-features">
                    <button class="feature-btn" id="rainbowBtn">
                        <div class="feature-emoji">üåà</div>
                        <div class="feature-text">Rainbow Mode</div>
                    </button>
                    
                    <button class="feature-btn" id="secretBtn">
                        <div class="feature-emoji">üíå</div>
                        <div class="feature-text">Secret Message</div>
                    </button>
                    
                    <button class="feature-btn" id="highfiveBtn">
                        <div class="feature-emoji">‚úã</div>
                        <div class="feature-text">High Five!</div>
                    </button>
                    
                    <button class="feature-btn" id="storyBtn">
                        <div class="feature-emoji">üìñ</div>
                        <div class="feature-text">Bedtime Story</div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Extra Features Section -->
    <div class="container">
        <div class="extra-features">
            <div class="extra-title">
                <i class="fas fa-star"></i> More Fun Features
            </div>
            <div class="extra-grid">
                <button class="extra-btn" id="jumpBtn">
                    <div class="extra-emoji">ü¶ò</div>
                    <div class="extra-text">Make Teddy Jump</div>
                </button>
                
                <button class="extra-btn" id="colorBtn">
                    <div class="extra-emoji">üé®</div>
                    <div class="extra-text">Change Color</div>
                </button>
                
                <button class="extra-btn" id="magicBtn">
                    <div class="extra-emoji">‚ú®</div>
                    <div class="extra-text">Magic Sparkles</div>
                </button>
                
                <button class="extra-btn" id="photoBtn">
                    <div class="extra-emoji">üì∏</div>
                    <div class="extra-text">Take Photo</div>
                </button>
                
                <button class="extra-btn" id="musicBtn">
                    <div class="extra-emoji">üéµ</div>
                    <div class="extra-text">Play Music</div>
                </button>
                
                <button class="extra-btn" id="weatherBtn">
                    <div class="extra-emoji">üå§Ô∏è</div>
                    <div class="extra-text">Change Weather</div>
                </button>
                
                <button class="extra-btn" id="sizeBtn">
                    <div class="extra-emoji">üìè</div>
                    <div class="extra-text">Resize Teddy</div>
                </button>
                
                <button class="extra-btn" id="costumeBtn">
                    <div class="extra-emoji">üëî</div>
                    <div class="extra-text">Wear Costume</div>
                </button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const teddy = document.getElementById('teddy');
        const teddyHead = document.getElementById('teddyHead');
        const teddyStage = document.getElementById('teddyStage');
        const eyeLeftContainer = document.getElementById('eyeLeftContainer');
        const eyeRightContainer = document.getElementById('eyeRightContainer');
        const eyeLeft = document.getElementById('eyeLeft');
        const eyeRight = document.getElementById('eyeRight');
        const pupilLeft = document.getElementById('pupilLeft');
        const pupilRight = document.getElementById('pupilRight');
        const mouth = document.getElementById('mouth');
        const armLeft = document.getElementById('armLeft');
        const armRight = document.getElementById('armRight');
        const effectsLayer = document.getElementById('effectsLayer');
        const blanket = document.getElementById('blanket');
        const secretMessage = document.getElementById('secretMessage');
        
        // Main buttons
        const feedBtn = document.getElementById('feedBtn');
        const hugBtn = document.getElementById('hugBtn');
        const tuckBtn = document.getElementById('tuckBtn');
        const danceBtn = document.getElementById('danceBtn');
        const spinBtn = document.getElementById('spinBtn');
        const surpriseBtn = document.getElementById('surpriseBtn');
        const rainbowBtn = document.getElementById('rainbowBtn');
        const secretBtn = document.getElementById('secretBtn');
        const highfiveBtn = document.getElementById('highfiveBtn');
        const storyBtn = document.getElementById('storyBtn');
        const springBtn = document.getElementById('springBtn');
        const winterBtn = document.getElementById('winterBtn');
        const autumnBtn = document.getElementById('autumnBtn');
        
        // Extra buttons
        const jumpBtn = document.getElementById('jumpBtn');
        const colorBtn = document.getElementById('colorBtn');
        const magicBtn = document.getElementById('magicBtn');
        const photoBtn = document.getElementById('photoBtn');
        const musicBtn = document.getElementById('musicBtn');
        const weatherBtn = document.getElementById('weatherBtn');
        const sizeBtn = document.getElementById('sizeBtn');
        const costumeBtn = document.getElementById('costumeBtn');
        
        // Mood values
        const comfortValue = document.getElementById('comfortValue');
        const energyValue = document.getElementById('energyValue');
        
        // State variables
        let comfortLevel = 50;
        let energyLevel = 70;
        let isPatting = false;
        let isTickling = false;
        let isHugging = false;
        let isSleeping = false;
        let isDancing = false;
        let eyeFollowEnabled = true;
        let currentSeason = 'spring';
        let teddyColor = 'default';
        let teddySize = 1;
        
        const secretMessages = [
            "You're my favorite person! üß∏‚ù§Ô∏è",
            "Every moment with you is magical ‚ú®",
            "Thank you for being so caring! ü•∞",
            "Your love warms my heart üíñ",
            "I'm the luckiest teddy ever! üêª",
            "You make everything better üåü"
        ];
        
        // Initialize
        function init() {
            // Set up event listeners
            teddyHead.addEventListener('click', patTeddy);
            teddyHead.addEventListener('mousedown', startTickle);
            teddyHead.addEventListener('mousemove', trackTickle);
            teddyHead.addEventListener('mouseup', endTickle);
            teddyHead.addEventListener('mouseleave', endTickle);
            
            teddyStage.addEventListener('mousemove', (e) => {
                if (eyeFollowEnabled) followEyes(e);
            });
            
            // Main button listeners
            feedBtn.addEventListener('click', feedTeddy);
            hugBtn.addEventListener('click', hugTeddy);
            tuckBtn.addEventListener('click', tuckTeddy);
            danceBtn.addEventListener('click', danceTeddy);
            spinBtn.addEventListener('click', spinTeddy);
            surpriseBtn.addEventListener('click', surpriseTeddy);
            rainbowBtn.addEventListener('click', activateRainbow);
            secretBtn.addEventListener('click', showSecretMessage);
            highfiveBtn.addEventListener('click', highFive);
            storyBtn.addEventListener('click', tellStory);
            
            // Season buttons
            springBtn.addEventListener('click', () => setSeason('spring'));
            winterBtn.addEventListener('click', () => setSeason('winter'));
            autumnBtn.addEventListener('click', () => setSeason('autumn'));
            
            // Extra feature buttons
            jumpBtn.addEventListener('click', makeJump);
            colorBtn.addEventListener('click', changeColor);
            magicBtn.addEventListener('click', magicSparkles);
            photoBtn.addEventListener('click', takePhoto);
            musicBtn.addEventListener('click', playMusic);
            weatherBtn.addEventListener('click', changeWeather);
            sizeBtn.addEventListener('click', resizeTeddy);
            costumeBtn.addEventListener('click', wearCostume);
            
            // Auto-blink eyes
            setInterval(() => {
                if (!isPatting && !isSleeping && Math.random() < 0.003) {
                    blinkEyes();
                }
            }, 100);
            
            // Start seasonal effects
            startSeasonalEffects();
        }
        
        // Eye following function
        function followEyes(e) {
            const stageRect = teddyStage.getBoundingClientRect();
            const teddyRect = teddy.getBoundingClientRect();
            
            const teddyCenterX = teddyRect.left + teddyRect.width / 2;
            const teddyCenterY = teddyRect.top + teddyRect.height / 2;
            
            const deltaX = e.clientX - teddyCenterX;
            const deltaY = e.clientY - teddyCenterY;
            
            const maxMovement = 8;
            const eyeMoveX = Math.max(-maxMovement, Math.min(maxMovement, deltaX / 25));
            const eyeMoveY = Math.max(-maxMovement, Math.min(maxMovement, deltaY / 25));
            
            pupilLeft.style.transform = `translate(${eyeMoveX}px, ${eyeMoveY}px)`;
            pupilRight.style.transform = `translate(${eyeMoveX}px, ${eyeMoveY}px)`;
        }
        
        // Blink animation
        function blinkEyes() {
            eyeLeft.classList.add('closed');
            eyeRight.classList.add('closed');
            
            setTimeout(() => {
                eyeLeft.classList.remove('closed');
                eyeRight.classList.remove('closed');
            }, 200);
        }
        
        // Pat teddy on head
        function patTeddy(e) {
            if (isSleeping) return;
            
            isPatting = true;
            eyeFollowEnabled = false;
            teddy.classList.add('patting');
            
            eyeLeft.classList.add('closed');
            eyeRight.classList.add('closed');
            mouth.classList.add('smile');
            
            createHearts(5, 'üíñ', '#FFB6C1');
            
            comfortLevel = Math.min(100, comfortLevel + 8);
            updateMoodDisplay();
            
            setTimeout(() => {
                teddy.classList.remove('patting');
                eyeLeft.classList.remove('closed');
                eyeRight.classList.remove('closed');
                eyeFollowEnabled = true;
                isPatting = false;
                
                setTimeout(() => {
                    if (!isSleeping) mouth.classList.remove('smile');
                }, 1000);
            }, 1000);
        }
        
        // Tickle teddy
        let ticklePath = [];
        let tickleTimeout;
        
        function startTickle() {
            if (isSleeping) return;
            ticklePath = [];
        }
        
        function trackTickle(e) {
            if (isSleeping) return;
            
            const rect = teddyHead.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ticklePath.push({x, y});
            
            if (ticklePath.length > 5 && !isTickling) {
                triggerTickle();
            }
        }
        
        function triggerTickle() {
            if (isTickling || isSleeping) return;
            
            isTickling = true;
            teddy.classList.add('tickling');
            mouth.classList.add('laugh');
            
            createSparkles(8, '‚ú®', '#FFD700');
            
            energyLevel = Math.min(100, energyLevel + 12);
            comfortLevel = Math.max(0, comfortLevel - 3);
            updateMoodDisplay();
            
            clearTimeout(tickleTimeout);
            tickleTimeout = setTimeout(() => {
                teddy.classList.remove('tickling');
                mouth.classList.remove('laugh');
                isTickling = false;
            }, 2000);
        }
        
        function endTickle() {
            ticklePath = [];
        }
        
        // Feed honey
        function feedTeddy() {
            if (isSleeping) return;
            
            createHoneyAnimation();
            mouth.classList.add('smile');
            
            comfortLevel = Math.min(100, comfortLevel + 15);
            energyLevel = Math.min(100, energyLevel + 10);
            updateMoodDisplay();
            
            setTimeout(() => {
                mouth.classList.remove('smile');
            }, 1500);
        }
        
        // Hug teddy
        function hugTeddy() {
            if (isSleeping || isHugging) return;
            isHugging = true;
            
            teddy.classList.add('hugging');
            armLeft.classList.add('hug-left');
            armRight.classList.add('hug-right');
            mouth.classList.add('smile');
            
            createHearts(7, 'üíï', '#FF6B8B');
            
            comfortLevel = Math.min(100, comfortLevel + 25);
            updateMoodDisplay();
            
            setTimeout(() => {
                teddy.classList.remove('hugging');
                armLeft.classList.remove('hug-left');
                armRight.classList.remove('hug-right');
                mouth.classList.remove('smile');
                isHugging = false;
            }, 2000);
        }
        
        // Tuck in for nap
        function tuckTeddy() {
            if (isSleeping) return;
            
            isSleeping = true;
            isDancing = false;
            eyeFollowEnabled = false;
            
            teddy.classList.remove('patting');
            teddy.classList.add('sleeping');
            blanket.classList.add('active');
            
            eyeLeft.classList.add('closed');
            eyeRight.classList.add('closed');
            mouth.classList.add('sleep');
            
            energyLevel = Math.max(0, energyLevel - 20);
            comfortLevel = 100;
            updateMoodDisplay();
            
            // Auto-wake after 8 seconds
            setTimeout(() => {
                if (isSleeping) {
                    teddy.classList.remove('sleeping');
                    blanket.classList.remove('active');
                    isSleeping = false;
                    eyeFollowEnabled = true;
                    
                    eyeLeft.classList.remove('closed');
                    eyeRight.classList.remove('closed');
                    mouth.classList.remove('sleep');
                    mouth.classList.add('smile');
                    
                    energyLevel = Math.min(100, energyLevel + 40);
                    updateMoodDisplay();
                    
                    createSparkles(6, '‚òÄÔ∏è', '#FFD700');
                    
                    setTimeout(() => {
                        mouth.classList.remove('smile');
                    }, 2000);
                }
            }, 8000);
        }
        
        // Dance party!
        function danceTeddy() {
            if (isSleeping) return;
            
            isDancing = !isDancing;
            
            if (isDancing) {
                teddy.classList.add('patting');
                mouth.classList.add('laugh');
                
                // Create dance sparkles
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        createSparkles(1, 'üíÉ', '#FF6B6B');
                    }, i * 100);
                }
                
                energyLevel = Math.max(0, energyLevel - 8);
                updateMoodDisplay();
                
                setTimeout(() => {
                    teddy.classList.remove('patting');
                    mouth.classList.remove('laugh');
                    isDancing = false;
                }, 3000);
            }
        }
        
        // Spin around
        function spinTeddy() {
            if (isSleeping) return;
            
            // Quick spin animation
            teddy.style.transform = 'rotate(360deg)';
            mouth.classList.add('laugh');
            
            energyLevel = Math.max(0, energyLevel - 15);
            updateMoodDisplay();
            
            setTimeout(() => {
                teddy.style.transform = 'rotate(0deg)';
                mouth.classList.remove('laugh');
            }, 1000);
        }
        
        // Surprise!
        function surpriseTeddy() {
            if (isSleeping) return;
            
            // Random surprise effect
            const randomEffect = Math.floor(Math.random() * 3);
            
            if (randomEffect === 0) {
                // Confetti
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => {
                        const confetti = document.createElement('div');
                        confetti.classList.add('heart');
                        confetti.innerHTML = 'üéâ';
                        confetti.style.color = ['#FF6B6B', '#FFD166', '#06D6A0', '#118AB2'][Math.floor(Math.random() * 4)];
                        
                        const teddyRect = teddy.getBoundingClientRect();
                        const stageRect = teddyStage.getBoundingClientRect();
                        
                        confetti.style.left = `${teddyRect.left - stageRect.left + Math.random() * 200}px`;
                        confetti.style.top = `${teddyRect.top - stageRect.top + Math.random() * 150}px`;
                        confetti.style.fontSize = '2rem';
                        
                        effectsLayer.appendChild(confetti);
                        confetti.style.animation = `heartFloat ${1 + Math.random()}s ease forwards`;
                        
                        setTimeout(() => {
                            confetti.remove();
                        }, 2000);
                    }, i * 100);
                }
            } else if (randomEffect === 1) {
                // Teddy jumps
                teddy.style.transform = 'translateY(-40px)';
                mouth.classList.add('laugh');
                
                setTimeout(() => {
                    teddy.style.transform = 'translateY(0)';
                    mouth.classList.remove('laugh');
                }, 500);
            } else {
                // Color change
                const originalColor = teddy.style.filter;
                teddy.style.filter = 'hue-rotate(180deg)';
                mouth.classList.add('smile');
                
                setTimeout(() => {
                    teddy.style.filter = originalColor;
                    mouth.classList.remove('smile');
                }, 1000);
            }
        }
        
        // Rainbow mode
        function activateRainbow() {
            if (isSleeping) return;
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const rainbow = document.createElement('div');
                    rainbow.classList.add('heart');
                    rainbow.innerHTML = 'üåà';
                    rainbow.style.color = '#FF6B6B';
                    
                    const teddyRect = teddy.getBoundingClientRect();
                    const stageRect = teddyStage.getBoundingClientRect();
                    
                    rainbow.style.left = `${teddyRect.left - stageRect.left + Math.random() * 180}px`;
                    rainbow.style.top = `${teddyRect.top - stageRect.top + Math.random() * 120}px`;
                    rainbow.style.fontSize = '2rem';
                    
                    effectsLayer.appendChild(rainbow);
                    rainbow.style.animation = `heartFloat ${1.5 + Math.random()}s ease forwards`;
                    
                    setTimeout(() => {
                        rainbow.remove();
                    }, 2000);
                }, i * 150);
            }
        }
        
        // Secret message
        function showSecretMessage() {
            const randomMessage = secretMessages[Math.floor(Math.random() * secretMessages.length)];
            secretMessage.textContent = randomMessage;
            secretMessage.classList.add('show');
            
            setTimeout(() => {
                secretMessage.classList.remove('show');
            }, 3000);
        }
        
        // High five
        function highFive() {
            if (isSleeping) return;
            
            armLeft.style.transform = 'rotate(0deg) translateY(-30px)';
            armRight.style.transform = 'rotate(0deg) translateY(-30px)';
            mouth.classList.add('smile');
            
            createSparkles(5, '‚úã', '#FFD700');
            
            setTimeout(() => {
                armLeft.style.transform = '';
                armRight.style.transform = '';
                mouth.classList.remove('smile');
            }, 1000);
        }
        
        // Bedtime story
        function tellStory() {
            if (isSleeping) return;
            
            mouth.classList.add('sleep');
            eyeLeft.classList.add('closed');
            eyeRight.classList.add('closed');
            
            createSparkles(3, 'üìñ', '#87CEEB');
            
            setTimeout(() => {
                mouth.classList.remove('sleep');
                eyeLeft.classList.remove('closed');
                eyeRight.classList.remove('closed');
                mouth.classList.add('smile');
                
                createHearts(3, 'üí§', '#87CEEB');
                
                setTimeout(() => {
                    mouth.classList.remove('smile');
                }, 1000);
            }, 2000);
        }
        
        // EXTRA FEATURES
        
        // Make teddy jump
        function makeJump() {
            if (isSleeping) return;
            
            teddy.style.transform = 'translateY(-60px) scale(1.1)';
            mouth.classList.add('laugh');
            
            createSparkles(8, 'ü¶ò', '#FFB347');
            
            energyLevel = Math.max(0, energyLevel - 10);
            updateMoodDisplay();
            
            setTimeout(() => {
                teddy.style.transform = '';
                mouth.classList.remove('laugh');
            }, 600);
        }
        
        // Change color
        function changeColor() {
            const colors = [
                'default',
                'hue-rotate(90deg)',
                'hue-rotate(180deg)',
                'hue-rotate(270deg)',
                'sepia(1)',
                'saturate(3)'
            ];
            
            const currentIndex = colors.indexOf(teddyColor);
            const nextIndex = (currentIndex + 1) % colors.length;
            teddyColor = colors[nextIndex];
            
            if (teddyColor === 'default') {
                teddy.style.filter = '';
            } else {
                teddy.style.filter = teddyColor;
            }
            
            createSparkles(5, 'üé®', '#9B30FF');
        }
        
        // Magic sparkles
        function magicSparkles() {
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    createSparkles(1, '‚ú®', '#FFD700');
                }, i * 50);
            }
        }
        
        // Take photo (flash effect)
        function takePhoto() {
            // Flash effect
            const flash = document.createElement('div');
            flash.style.position = 'absolute';
            flash.style.top = '0';
            flash.style.left = '0';
            flash.style.width = '100%';
            flash.style.height = '100%';
            flash.style.background = 'white';
            flash.style.opacity = '0.8';
            flash.style.zIndex = '100';
            flash.style.pointerEvents = 'none';
            
            teddyStage.appendChild(flash);
            
            // Camera sound effect
            mouth.classList.add('smile');
            
            setTimeout(() => {
                flash.remove();
                mouth.classList.remove('smile');
                
                // Show photo frame
                const photo = document.createElement('div');
                photo.classList.add('heart');
                photo.innerHTML = 'üì∏';
                photo.style.fontSize = '3rem';
                photo.style.zIndex = '50';
                
                const teddyRect = teddy.getBoundingClientRect();
                const stageRect = teddyStage.getBoundingClientRect();
                
                photo.style.left = `${teddyRect.left - stageRect.left + 100}px`;
                photo.style.top = `${teddyRect.top - stageRect.top + 50}px`;
                
                effectsLayer.appendChild(photo);
                photo.style.animation = `heartFloat 2s ease forwards`;
                
                setTimeout(() => {
                    photo.remove();
                }, 2000);
            }, 200);
        }
        
        // Play music
        function playMusic() {
            // Visual music notes
            for (let i = 0; i < 12; i++) {
                setTimeout(() => {
                    const note = document.createElement('div');
                    note.classList.add('heart');
                    note.innerHTML = Math.random() > 0.5 ? 'üéµ' : 'üé∂';
                    note.style.color = '#FF6B6B';
                    
                    const teddyRect = teddy.getBoundingClientRect();
                    const stageRect = teddyStage.getBoundingClientRect();
                    
                    note.style.left = `${teddyRect.left - stageRect.left + Math.random() * 150}px`;
                    note.style.top = `${teddyRect.top - stageRect.top + Math.random() * 100}px`;
                    note.style.fontSize = '1.8rem';
                    
                    effectsLayer.appendChild(note);
                    note.style.animation = `heartFloat ${1 + Math.random()}s ease forwards`;
                    
                    setTimeout(() => {
                        note.remove();
                    }, 2000);
                }, i * 150);
            }
            
            // Teddy sways to music
            teddy.style.animation = 'patEffect 0.5s ease infinite';
            mouth.classList.add('smile');
            
            setTimeout(() => {
                teddy.style.animation = '';
                mouth.classList.remove('smile');
            }, 3000);
        }
        
        // Change weather
        function changeWeather() {
            const weatherTypes = ['‚òÄÔ∏è', '‚òÅÔ∏è', 'üåßÔ∏è', '‚õàÔ∏è', 'üåà'];
            const currentWeather = weatherTypes[Math.floor(Math.random() * weatherTypes.length)];
            
            // Create weather effect
            const weather = document.createElement('div');
            weather.classList.add('heart');
            weather.innerHTML = currentWeather;
            weather.style.fontSize = '3rem';
            weather.style.zIndex = '50';
            
            const stageRect = teddyStage.getBoundingClientRect();
            weather.style.left = `${stageRect.width / 2 - 30}px`;
            weather.style.top = '30px';
            
            effectsLayer.appendChild(weather);
            weather.style.animation = `heartFloat 3s ease forwards`;
            
            // Additional effects based on weather
            if (currentWeather === 'üåßÔ∏è' || currentWeather === '‚õàÔ∏è') {
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        createSparkles(1, 'üíß', '#87CEEB');
                    }, i * 200);
                }
            }
            
            setTimeout(() => {
                weather.remove();
            }, 3000);
        }
        
        // Resize teddy
        function resizeTeddy() {
            const sizes = [0.8, 0.9, 1.0, 1.1, 1.2];
            const currentSizeIndex = sizes.indexOf(teddySize);
            const nextSizeIndex = (currentSizeIndex + 1) % sizes.length;
            teddySize = sizes[nextSizeIndex];
            
            teddy.style.transform = `scale(${teddySize})`;
            
            createSparkles(5, 'üìè', '#4CAF50');
            
            // Reset after 2 seconds
            setTimeout(() => {
                teddy.style.transform = '';
            }, 2000);
        }
        
        // Wear costume
        function wearCostume() {
            const costumes = ['üé©', 'üëì', 'üéÄ', 'üëë', 'üé≠'];
            const randomCostume = costumes[Math.floor(Math.random() * costumes.length)];
            
            // Create costume element
            const costume = document.createElement('div');
            costume.classList.add('heart');
            costume.innerHTML = randomCostume;
            costume.style.fontSize = '2.5rem';
            costume.style.zIndex = '100';
            
            const teddyRect = teddy.getBoundingClientRect();
            const stageRect = teddyStage.getBoundingClientRect();
            
            costume.style.left = `${teddyRect.left - stageRect.left + 100}px`;
            costume.style.top = `${teddyRect.top - stageRect.top + 20}px`;
            
            effectsLayer.appendChild(costume);
            
            mouth.classList.add('laugh');
            
            setTimeout(() => {
                costume.remove();
                mouth.classList.remove('laugh');
            }, 2000);
        }
        
        // Seasonal effects
        function setSeason(season) {
            currentSeason = season;
            
            [springBtn, winterBtn, autumnBtn].forEach(btn => btn.classList.remove('active'));
            if (season === 'spring') springBtn.classList.add('active');
            if (season === 'winter') winterBtn.classList.add('active');
            if (season === 'autumn') autumnBtn.classList.add('active');
            
            if (season === 'winter') {
                document.body.style.background = 'radial-gradient(circle at top left, #E3F2FD 0%, #B3E5FC 100%)';
            } else if (season === 'autumn') {
                document.body.style.background = 'radial-gradient(circle at top left, #FFF3E0 0%, #FFE0B2 100%)';
            } else {
                document.body.style.background = 'radial-gradient(circle at top left, #FFF5F7 0%, #87CEEB 100%)';
            }
        }
        
        function startSeasonalEffects() {
            setInterval(() => {
                if (currentSeason === 'winter') {
                    createSnowflake();
                } else if (currentSeason === 'spring') {
                    if (Math.random() < 0.2) createFlower();
                } else if (currentSeason === 'autumn') {
                    if (Math.random() < 0.15) createLeaf();
                }
            }, 800);
        }
        
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.innerHTML = '‚ùÑÔ∏è';
            snowflake.style.left = `${Math.random() * 100}%`;
            snowflake.style.top = '-50px';
            snowflake.style.fontSize = `${0.8 + Math.random() * 1}rem`;
            snowflake.style.opacity = '0.7';
            
            effectsLayer.appendChild(snowflake);
            
            setTimeout(() => {
                snowflake.remove();
            }, 8000);
        }
        
        function createFlower() {
            const flower = document.createElement('div');
            flower.classList.add('flower');
            flower.innerHTML = 'üå∏';
            flower.style.left = `${Math.random() * 100}%`;
            flower.style.top = `${80 + Math.random() * 20}%`;
            flower.style.fontSize = `${1.2 + Math.random() * 0.8}rem`;
            
            effectsLayer.appendChild(flower);
            
            setTimeout(() => {
                flower.remove();
            }, 6000);
        }
        
        function createLeaf() {
            const leaf = document.createElement('div');
            leaf.classList.add('leaf');
            leaf.innerHTML = 'üçÇ';
            leaf.style.left = `${Math.random() * 100}%`;
            leaf.style.top = '-50px';
            leaf.style.fontSize = `${1.3 + Math.random() * 0.7}rem`;
            
            effectsLayer.appendChild(leaf);
            
            setTimeout(() => {
                leaf.remove();
            }, 10000);
        }
        
        // Create honey animation
        function createHoneyAnimation() {
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const honey = document.createElement('div');
                    honey.classList.add('heart');
                    honey.innerHTML = 'üçØ';
                    honey.style.color = '#FFB347';
                    honey.style.fontSize = '2.5rem';
                    
                    const teddyRect = teddy.getBoundingClientRect();
                    const stageRect = teddyStage.getBoundingClientRect();
                    
                    honey.style.left = `${teddyRect.left - stageRect.left + 120 + Math.random() * 40}px`;
                    honey.style.top = `${teddyRect.top - stageRect.top + 100}px`;
                    
                    effectsLayer.appendChild(honey);
                    honey.style.animation = `heartFloat 1.5s ease forwards`;
                    
                    setTimeout(() => {
                        honey.remove();
                    }, 1500);
                }, i * 300);
            }
        }
        
        // Create hearts
        function createHearts(count, emoji, color) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.classList.add('heart');
                    heart.innerHTML = emoji;
                    heart.style.color = color;
                    
                    const teddyRect = teddy.getBoundingClientRect();
                    const stageRect = teddyStage.getBoundingClientRect();
                    
                    const left = teddyRect.left - stageRect.left + Math.random() * 180;
                    const top = teddyRect.top - stageRect.top + Math.random() * 120;
                    
                    heart.style.left = `${left}px`;
                    heart.style.top = `${top}px`;
                    heart.style.fontSize = `${1.5 + Math.random() * 0.8}rem`;
                    
                    effectsLayer.appendChild(heart);
                    heart.style.animation = `heartFloat ${1 + Math.random()}s ease forwards`;
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 2000);
                }, i * 150);
            }
        }
        
        // Create sparkles
        function createSparkles(count, emoji, color) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.classList.add('sparkle');
                    sparkle.innerHTML = emoji;
                    sparkle.style.color = color;
                    
                    const teddyRect = teddy.getBoundingClientRect();
                    const stageRect = teddyStage.getBoundingClientRect();
                    
                    const left = teddyRect.left - stageRect.left + Math.random() * 200;
                    const top = teddyRect.top - stageRect.top + Math.random() * 150;
                    
                    sparkle.style.left = `${left}px`;
                    sparkle.style.top = `${top}px`;
                    
                    effectsLayer.appendChild(sparkle);
                    sparkle.style.animation = `sparkleFloat ${0.8 + Math.random() * 0.7}s ease forwards`;
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 1800);
                }, i * 100);
            }
        }
        
        // Update mood display
        function updateMoodDisplay() {
            comfortValue.textContent = `${comfortLevel}%`;
            energyValue.textContent = `${energyLevel}%`;
            
            const comfortBox = document.getElementById('comfortBox');
            const energyBox = document.getElementById('energyBox');
            
            const comfortColor = comfortLevel > 70 ? '#C8E6C9' : comfortLevel > 30 ? '#FFF9C4' : '#FFCDD2';
            const energyColor = energyLevel > 70 ? '#B3E5FC' : energyLevel > 30 ? '#FFF9C4' : '#FFCCBC';
            
            comfortBox.style.background = `${comfortColor}40`;
            energyBox.style.background = `${energyColor}40`;
        }
        
        // Initialize the experience
        window.onload = init;
    </script>
</body>
</html>
