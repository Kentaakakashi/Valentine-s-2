<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kiss Â· day Â· mood</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #0b0004;
      color: #ffe7f0;
      font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
      overflow-x: hidden;
      line-height: 1.5;
    }

    /* smooth blurred overlay base */
    .section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem 1.5rem;
      position: relative;
      transition: opacity 0.6s ease;
    }

    .hidden {
      display: none !important;
    }

    /* â€”â€”â€”â€”â€” CINEMATIC INTRO â€”â€”â€”â€”â€” */
    #intro {
      background: radial-gradient(circle at 30% 40%, #330014 0%, #000000 90%);
      text-align: center;
      animation: slowPulse 12s infinite alternate;
    }

    @keyframes slowPulse {
      0% { background-size: 100% 100%; }
      100% { background-size: 140% 140%; }
    }

    .intro-content {
      max-width: 700px;
      filter: drop-shadow(0 0 30px #ff1a4c);
    }

    .intro-title {
      font-size: clamp(2.2rem, 12vw, 5rem);
      font-weight: 500;
      letter-spacing: 6px;
      text-transform: uppercase;
      margin-bottom: 1.5rem;
      animation: glitch 3s infinite;
      text-shadow: 0 0 10px #ff4d8c, 0 0 30px #b3002d;
    }

    @keyframes glitch {
      0%, 100% { transform: skew(0deg, 0deg); opacity: 1; }
      95% { transform: skew(5deg, 2deg); opacity: 0.9; text-shadow: 4px 0 #ff00aa, -4px 0 #00e0ff; }
      96% { transform: skew(-5deg, -1deg); }
    }

    .intro-sub {
      font-size: 1.4rem;
      font-weight: 300;
      margin-bottom: 3rem;
      backdrop-filter: blur(2px);
      animation: fadeIn 2s;
    }

    .enter-btn {
      background: rgba(255, 40, 90, 0.2);
      border: 2px solid #ff3d6c;
      color: #ffb0c3;
      font-size: 1.8rem;
      padding: 1rem 3.5rem;
      border-radius: 60px;
      backdrop-filter: blur(8px);
      cursor: pointer;
      transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 0 30px #ff1455;
      letter-spacing: 4px;
    }

    .enter-btn:hover {
      background: #ff2a5e;
      color: #fff;
      box-shadow: 0 0 70px #ff2a5e;
      transform: scale(1.07);
      border-color: #ffd0dc;
    }

    /* â€”â€”â€”â€”â€” KISS PLAYGROUND â€”â€”â€”â€”â€” */
    #kissButtons {
      background: #120007;
      background-image: radial-gradient(circle at 70% 20%, #440022 0%, #0a0004 80%);
      justify-content: flex-start;
      padding-top: 15vh;
    }

    .section-title {
      font-size: 3rem;
      font-weight: 300;
      margin-bottom: 3rem;
      border-bottom: 1px solid #ff4d6d;
      display: inline-block;
      padding-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 8px;
      animation: softGlow 3s infinite alternate;
    }

    @keyframes softGlow {
      from { text-shadow: 0 0 5px #ff99bb; }
      to { text-shadow: 0 0 25px #ff3b6f; }
    }

    .kiss-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.5rem;
      max-width: 800px;
    }

    .kiss-btn {
      background: transparent;
      border: 1.5px solid #ff3f6b;
      color: #ffb6c1;
      padding: 1.2rem 2.5rem;
      font-size: 1.5rem;
      border-radius: 40px;
      cursor: pointer;
      backdrop-filter: blur(10px);
      transition: all 0.3s;
      box-shadow: 0 10px 20px rgba(255, 20, 80, 0.2);
      font-weight: 300;
      letter-spacing: 2px;
      flex: 0 1 auto;
      min-width: 160px;
      position: relative;
      overflow: hidden;
    }

    .kiss-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .kiss-btn:hover::before {
      left: 100%;
    }

    .kiss-btn:hover {
      background: #ff1f4f;
      color: #fff;
      border-color: #ffa6c0;
      transform: scale(1.1) translateY(-5px);
      box-shadow: 0 20px 30px #f005;
    }

    .french-btn {
      border-color: #b3005e;
      color: #ffb3d9;
      box-shadow: 0 0 25px #c1005c;
    }

    /* â€”â€”â€”â€”â€” KISS OVERLAY (immersive) â€”â€”â€”â€”â€” */
    #kissOverlay {
      position: fixed;
      inset: 0;
      background: center / cover no-repeat;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(14px) brightness(0.6);
      -webkit-backdrop-filter: blur(14px) brightness(0.6);
      animation: overlayAppear 0.4s ease-out;
    }

    @keyframes overlayAppear {
      0% { opacity: 0; backdrop-filter: blur(0); }
      100% { opacity: 1; backdrop-filter: blur(14px) brightness(0.6); }
    }

    #kissText {
      font-size: 5rem;
      font-weight: 200;
      color: #fff0f5;
      text-shadow: 0 0 40px #ff0066, 0 0 120px #ffbbcc;
      animation: kissFloat 3s infinite alternate ease-in-out;
      transform-origin: center;
      white-space: nowrap;
      padding: 1rem 3rem;
      border: 2px solid #ff99bb55;
      border-radius: 200px;
      backdrop-filter: blur(6px);
      background: #0a000430;
    }

    @keyframes kissFloat {
      0% { transform: translateY(0) scale(1); filter: hue-rotate(0deg); }
      100% { transform: translateY(-50px) scale(1.1); filter: hue-rotate(10deg) drop-shadow(0 0 30px #ff4080); }
    }

    /* â€”â€”â€”â€”â€” AUDIO STORY (intimate space) â€”â€”â€”â€”â€” */
    #audioSection {
      background: #050002;
      border-top: 3px solid #a00040;
      box-shadow: inset 0 0 150px #1a000d;
      min-height: 90vh;
      position: relative;
    }

    #audioSection::after {
      content: 'ðŸ’‹';
      font-size: 15vw;
      position: absolute;
      bottom: 5%;
      right: 2%;
      opacity: 0.03;
      pointer-events: none;
      transform: rotate(-10deg);
    }

    .story-player {
      background: rgba(20, 0, 10, 0.6);
      backdrop-filter: blur(16px);
      border-radius: 80px 80px 30px 30px;
      padding: 2.5rem 3rem;
      border: 1px solid #a02b50;
      box-shadow: 0 40px 80px #200008;
      max-width: 650px;
      width: 100%;
    }

    .story-player h2 {
      font-size: 2.5rem;
      font-weight: 300;
      letter-spacing: 6px;
      color: #ffb0cc;
    }

    .story-player p {
      font-size: 1.2rem;
      color: #ffc0cb;
      margin: 1rem 0 2rem;
      font-style: italic;
    }

    audio {
      width: 100%;
      filter: sepia(100%) saturate(400%) hue-rotate(290deg) brightness(0.9);
      outline: none;
      border-radius: 50px;
      margin-bottom: 2rem;
    }

    /* custom styling for audio (works in webkit) */
    audio::-webkit-media-controls-panel {
      background-color: #33001a;
      border-radius: 50px;
    }

    .choice-buttons {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      margin-top: 1.5rem;
    }

    .choice-btn {
      background: transparent;
      border: 2px solid #ff4d88;
      color: #ffc0d5;
      font-size: 2rem;
      padding: 0.8rem 2.8rem;
      border-radius: 60px;
      cursor: pointer;
      transition: 0.3s;
      min-width: 140px;
      backdrop-filter: blur(10px);
      font-weight: 300;
      letter-spacing: 4px;
    }

    .choice-btn:hover {
      background: #ff1f5a;
      color: #fff;
      border-color: #ffb3c6;
      transform: scale(1.1);
      box-shadow: 0 0 50px #ff3b6f;
    }

    .locked {
      opacity: 0.25;
      pointer-events: none;
      filter: grayscale(0.8);
    }

    /* floating hearts / mood animation */
    .floating-hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 50;
    }

    .heart {
      position: absolute;
      font-size: 1.4rem;
      opacity: 0.5;
      color: #ff3f6b;
      animation: rise 10s infinite linear;
      user-select: none;
    }

    @keyframes rise {
      0% { transform: translateY(110vh) rotate(0deg); opacity: 0.1; }
      100% { transform: translateY(-20vh) rotate(360deg); opacity: 0.7; }
    }

    /* responsive */
    @media (max-width: 550px) {
      .kiss-btn { min-width: 130px; font-size: 1.2rem; }
      .choice-btn { font-size: 1.5rem; padding: 0.6rem 1.8rem; }
      #kissText { font-size: 2.5rem; white-space: normal; }
    }
  </style>
</head>
<body>
  <!-- atmospheric floating hearts (just for mood) -->
  <div class="floating-hearts" id="heartContainer"></div>

  <!-- INTRO : cinematic -->
  <section id="intro" class="section">
    <div class="intro-content">
      <h1 class="intro-title">not all kisses are the same</h1>
      <p class="intro-sub">some are playful. some are dangerous.<br>someâ€¦ you never forget.</p>
      <button class="enter-btn" onclick="startPage()">âž¤ feel it</button>
    </div>
  </section>

  <!-- KISS BUTTONS : playful exploration -->
  <section id="kissButtons" class="section hidden">
    <h2 class="section-title">steal a kiss</h2>
    <div class="kiss-grid">
      <button class="kiss-btn" onclick="playKiss('cheek')">cheek</button>
      <button class="kiss-btn" onclick="playKiss('forehead')">forehead</button>
      <button class="kiss-btn" onclick="playKiss('nose')">nose</button>
      <button class="kiss-btn" onclick="playKiss('hand')">hand</button>
      <button class="kiss-btn french-btn" onclick="playFrench()">french ðŸ˜ˆ</button>
    </div>
    <p style="margin-top: 60px; opacity:0.6; font-size:1.1rem">each kiss leaves a trace...</p>
  </section>

  <!-- AUDIO STORY : intimate space -->
  <section id="audioSection" class="section">
    <div class="story-player">
      <h2>âœ¦ deeper âœ¦</h2>
      <p>this is not a sound effect â€” it's my voice.</p>
      <audio id="storyAudio" controls></audio>
      <div class="choice-buttons hidden" id="choices">
        <button class="choice-btn" onclick="choose('yes')">yes</button>
        <button class="choice-btn" onclick="choose('no')">no</button>
      </div>
    </div>
  </section>

  <!-- KISS OVERLAY (immersive moment) -->
  <div id="kissOverlay">
    <div id="kissText"></div>
  </div>

  <script>
    (function() {
      // ---- create floating hearts (ambient) ----
      const heartContainer = document.getElementById('heartContainer');
      for (let i = 0; i < 18; i++) {
        let heart = document.createElement('div');
        heart.className = 'heart';
        heart.innerHTML = 'â¤ï¸â€ðŸ”¥';
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDelay = Math.random() * 12 + 's';
        heart.style.fontSize = (0.8 + Math.random() * 1.8) + 'rem';
        heart.style.opacity = 0.2 + Math.random() * 0.4;
        heartContainer.appendChild(heart);
      }

      // ---- DOM elements ----
      const overlay = document.getElementById('kissOverlay');
      const kissText = document.getElementById('kissText');
      const audio = document.getElementById('storyAudio');
      const choicesDiv = document.getElementById('choices');
      const introSec = document.getElementById('intro');
      const kissSec = document.getElementById('kissButtons');

      // Audio story logic (extended with mood)
      let stage = 0;            // 0 = first audio, 1 = after first yes, etc.
      let finalLock = false;    // permanent lock after final yes

      // set initial audio source (placeholder path)
      audio.src = "assets/sounds/audio1.mp3";   // ensure file exists or replace with a dummy text

      // when audio ends, show choices (unless locked)
      audio.addEventListener('ended', () => {
        if (finalLock) {
          // after final ending, no choices â€“ just stay beautiful
          return;
        }
        if (!choicesDiv.classList.contains('hidden')) return; 
        // show choices only if not locked
        choicesDiv.classList.remove('hidden');
      });

      // choice handler (respects consent)
      window.choose = function(answer) {
        if (finalLock) return;

        choicesDiv.classList.add('hidden');  // hide buttons immediately

        // mood-based backgrounds / soft changes
        if (answer === 'no') {
          document.body.style.backgroundColor = '#140008';
        } else {
          document.body.style.backgroundColor = '#1f0010';
        }

        // branching paths (based on stage, using placeholder audio files)
        if (stage === 0 && answer === 'no') {
          audio.src = "assets/sounds/no1.mp3";   // soft rejection
          finalLock = true;                       // path ends
        } 
        else if (stage === 0 && answer === 'yes') {
          audio.src = "assets/sounds/yes1.mp3";   // deeper intimacy
          stage = 1;
        } 
        else if (stage === 1 && answer === 'no') {
          audio.src = "assets/sounds/no2.mp3";    // gentle exit
          finalLock = true;
        } 
        else if (stage === 1 && answer === 'yes') {
          audio.src = "assets/sounds/yes2.mp3";    // final â€” one-time moment
          finalLock = true;                          // permanently lock after this
          // add a subtle visual cue that this was the last
          kissText.innerText = 'â¤ï¸'; 
          setTimeout(() => {
            if (overlay.style.display !== 'flex') {
              overlay.style.display = 'flex';
              overlay.style.background = 'radial-gradient(circle at center, #3d0015, #000)';
              kissText.innerText = 'the kiss that stays';
              kissText.style.fontSize = '3rem';
              setTimeout(() => { overlay.style.display = 'none'; }, 2500);
            }
          }, 600);
        }

        // apply locked class to audio if final
        if (finalLock) {
          audio.classList.add('locked');
          // optional final message appears briefly
        } else {
          audio.classList.remove('locked');
        }

        // play the chosen audio
        audio.play().catch(e => console.log('audio play prevented (expected if no files)', e));
      };

      // ---- start page transition ----
      window.startPage = function() {
        introSec.classList.add('hidden');
        kissSec.classList.remove('hidden');
        // small animation: scroll smoothly into kiss section
        kissSec.scrollIntoView({ behavior: 'smooth' });
      };

      // ---- KISS functions ----
      window.playKiss = function(type) {
        // simulate different backgrounds for each kiss type
        let gradient = '';
        switch(type) {
          case 'cheek': gradient = 'linear-gradient(145deg, #33001a, #12000b)'; break;
          case 'forehead': gradient = 'linear-gradient(120deg, #1f0024, #10000c)'; break;
          case 'nose': gradient = 'linear-gradient(160deg, #280017, #0d0009)'; break;
          case 'hand': gradient = 'linear-gradient(95deg, #390021, #140010)'; break;
          default: gradient = '#1f0015';
        }

        showOverlay(type + ' kiss', `assets/sounds/${type}.mp3`, gradient);
      };

      window.playFrench = function() {
        // tease first
        const tease = new Audio("assets/sounds/french_tease.mp3");
        tease.play().catch(e=>{}); 
        // after tease (approx 0.8s), show french overlay
        setTimeout(() => {
          showOverlay('french kiss â€¦', "assets/sounds/french.mp3", 'radial-gradient(circle at 30% 40%, #5f002b, #15000a)');
        }, 700);
      };

      function showOverlay(msg, soundSrc, bgStyle) {
        overlay.style.display = 'flex';
        overlay.style.background = bgStyle;  // custom gradient
        kissText.textContent = msg;

        const sfx = new Audio(soundSrc);
        sfx.play().catch(e => console.warn('audio file missing, but mood remains'));

        sfx.onended = () => {
          // smooth hide with fade
          overlay.style.transition = 'opacity 0.4s';
          overlay.style.opacity = '0';
          setTimeout(() => {
            overlay.style.display = 'none';
            overlay.style.opacity = '1'; // reset
          }, 400);
        };
      }

      // extra: add subtle heart pulse on button click
      const allButtons = document.querySelectorAll('button');
      allButtons.forEach(btn => {
        btn.addEventListener('click', function(e) {
          let heartEm = document.createElement('span');
          heartEm.innerHTML = 'â¤ï¸';
          heartEm.style.position = 'fixed';
          heartEm.style.left = e.clientX + 'px';
          heartEm.style.top = e.clientY + 'px';
          heartEm.style.fontSize = '2rem';
          heartEm.style.pointerEvents = 'none';
          heartEm.style.zIndex = '2000';
          heartEm.style.animation = 'rise 1s forwards';
          heartEm.style.opacity = '0.8';
          document.body.appendChild(heartEm);
          setTimeout(() => heartEm.remove(), 900);
        });
      });

      // small fix: if overlay is hidden early
      window.showOverlay = showOverlay; // for global access

      // when any kiss is clicked, also a tiny vibration effect (if supported)
    })();
  </script>

  <!-- note: audio files should be placed in assets/sounds/
       but the page still works visually without them.
       for full effect, add .mp3 files: cheek, forehead, nose, hand,
       french_tease, french, audio1, no1, yes1, no2, yes2  (or change paths) -->
</body>
</html>
