<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: "Segoe UI", sans-serif;
  color: white;
}

/* LIQUID GRADIENT BACKGROUND */
body {
  background: linear-gradient(270deg, #ff5f9e, #7f5cff, #ff9a8b);
  background-size: 600% 600%;
  animation: gradientFlow 10s ease infinite;
}

@keyframes gradientFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* TEXT CONTAINER */
#stage {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.text {
  position: absolute;
  font-size: 2rem;
  opacity: 0;
  transform: translateY(40px);
  transition: all 2s ease;
  text-align: center;
  text-shadow: 0 0 20px rgba(255,255,255,0.6);
  max-width: 80%;
}

.show {
  opacity: 1;
  transform: translateY(0);
}

.hide-up {
  opacity: 0;
  transform: translateY(-40px);
}

/* CONTINUATION */
.row {
  display: flex;
  gap: 15px;
  align-items: center;
}

/* UNLOCKED CONTENT */
#content {
  margin-top: 100vh;
  padding: 80px 20px;
  text-align: center;
}

video {
  max-width: 90%;
  border-radius: 20px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.4);
}

.gift {
  margin-top: 80px;
}

.gift button {
  padding: 16px 32px;
  font-size: 1.1rem;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  background: white;
  color: #ff5f9e;
}
</style>
</head>

<body>

<div id="stage"></div>

<div id="content">
  <h2>Take your time.</h2>

  <!-- VIDEO -->
  <video controls>
    <source src="assets/video/edit.mp4" type="video/mp4">
  </video>

  <!-- GIFT -->
  <div class="gift">
    <h2>üéÅ One last thing</h2>
    <p>I left something for you.</p>
    <button onclick="openGift()">Open it</button>
  </div>
</div>

<script>
const stage = document.getElementById("stage");

function showText(text, duration = 5000) {
  return new Promise(resolve => {
    const el = document.createElement("div");
    el.className = "text";
    el.innerText = text;
    stage.appendChild(el);

    requestAnimationFrame(() => el.classList.add("show"));

    setTimeout(() => {
      el.classList.remove("show");
      el.classList.add("hide-up");
      setTimeout(() => {
        stage.removeChild(el);
        resolve();
      }, 2000);
    }, duration);
  });
}

function continuation(leftText, rightText) {
  return new Promise(resolve => {
    const row = document.createElement("div");
    row.className = "text row show";

    const left = document.createElement("span");
    left.innerText = leftText;

    const right = document.createElement("span");
    right.innerText = rightText;
    right.style.opacity = 0;

    row.appendChild(left);
    row.appendChild(right);
    stage.appendChild(row);

    setTimeout(() => {
      left.style.transform = "translateX(-20px)";
      right.style.opacity = 1;
    }, 1500);

    setTimeout(() => {
      row.classList.add("hide-up");
      setTimeout(() => {
        stage.removeChild(row);
        resolve();
      }, 2000);
    }, 6000);
  });
}

async function sequence() {
  await new Promise(r => setTimeout(r, 5000));

  await showText("Hi Kavimitha...");
  await new Promise(r => setTimeout(r, 3000));

  await showText("To be honest, I have no idea what to say...");
  await new Promise(r => setTimeout(r, 3000));

  await continuation(
    "You know...",
    "the chances of us meeting each other is said to be 0.3%..."
  );

  await showText(
    "That‚Äôs as rare as being blindfolded in front of 1000 buttons, where only 3 of them bring us together."
  );

  await showText("And somehow, we pressed those 3.");

  // FINAL PARAGRAPH
  const final = document.createElement("div");
  final.className = "text show";
  final.innerText = "You see...";
  stage.appendChild(final);

  setTimeout(() => {
    final.innerText =
      "You changed my life a lot, and I mean it. In ways I didn‚Äôt even realize until you were already part of it.";
  }, 2000);

  setTimeout(() => {
    document.body.style.overflowY = "auto";
  }, 6000);
}

sequence();

function openGift() {
  window.open("https://discord.gg/YOUR_INVITE_CODE", "_blank");
}
</script>

</body>
</html>
