<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Secret Garden üíê</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --pink-light: #FFE6F2;
            --pink-medium: #FFB6D9;
            --pink-dark: #FF8EC7;
            --purple-light: #E6D7FF;
            --purple-medium: #D0B7FF;
            --green-light: #D4F1D4;
            --green-medium: #A3E4A3;
            --gold: #FFD700;
            --text-dark: #5A2A4A;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--pink-light), var(--purple-light), var(--green-light));
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-dark);
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath fill='%23FF8EC7' d='M16 3C8.832 3 3 8.832 3 16s5.832 13 13 13 13-5.832 13-13S23.168 3 16 3zm0 2c6.065 0 11 4.935 11 11s-4.935 11-11 11S5 22.065 5 16 9.935 5 16 5z'/%3E%3Ccircle fill='%23FF8EC7' cx='16' cy='16' r='4'/%3E%3C/svg%3E") 16 16, auto;
        }

        /* ===== MAGICAL BACKGROUND ===== */
        .magic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: var(--gold);
            border-radius: 50%;
            filter: blur(1px);
            opacity: 0;
            animation: sparkle 3s infinite;
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            opacity: 0.3;
            animation: float 15s infinite linear;
        }

        .butterfly {
            position: absolute;
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #FFB6D9, #D0B7FF);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            opacity: 0.5;
            filter: blur(1px);
            animation: flutter 8s infinite ease-in-out;
        }

        /* ===== SCENE CONTAINERS ===== */
        .scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1.5s ease, transform 1.5s ease;
            z-index: 1;
        }

        .scene.active {
            opacity: 1;
            pointer-events: all;
        }

        /* ===== CUTE CARD DESIGN ===== */
        .garden-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.6);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .garden-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px);
            background-size: 30px 30px;
            opacity: 0.3;
            animation: shimmer 20s linear infinite;
            z-index: -1;
        }

        .card-header {
            margin-bottom: 25px;
            position: relative;
        }

        .card-header h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 48px;
            color: var(--pink-dark);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
        }

        .card-header p {
            font-size: 18px;
            color: var(--text-dark);
            opacity: 0.8;
            line-height: 1.6;
        }

        /* ===== DECORATIVE ELEMENTS ===== */
        .flower-border {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .flower-corner {
            position: absolute;
            font-size: 24px;
            color: var(--pink-medium);
        }

        .top-left { top: 15px; left: 15px; }
        .top-right { top: 15px; right: 15px; }
        .bottom-left { bottom: 15px; left: 15px; }
        .bottom-right { bottom: 15px; right: 15px; }

        /* ===== SCENE 1: THE SEED ===== */
        .seed-container {
            margin: 30px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .seed {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #8B4513, #5D2906);
            border-radius: 40% 60% 40% 60%;
            position: relative;
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.3),
                0 10px 30px rgba(139, 69, 19, 0.4);
            cursor: pointer;
            transition: all 0.5s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: white;
        }

        .seed:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .seed.glow {
            animation: seedGlow 2s infinite alternate;
            box-shadow: 
                0 0 30px #FFD700,
                inset 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .breath-instruction {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 25px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .breath-icon {
            font-size: 24px;
            color: var(--pink-dark);
            animation: breathe 4s infinite ease-in-out;
        }

        /* ===== SCENE 2: RAIN CLOUDS ===== */
        .sky-container {
            margin: 30px 0;
            height: 200px;
            width: 100%;
            position: relative;
        }

        .cloud {
            position: absolute;
            background: white;
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--purple-medium);
            font-size: 24px;
        }

        .cloud:hover {
            transform: scale(1.2);
            background: #f0f8ff;
        }

        .cloud.active {
            animation: rainCloud 1s infinite;
        }

        .rain-drop {
            position: absolute;
            width: 4px;
            height: 20px;
            background: linear-gradient(to bottom, transparent, var(--purple-medium));
            border-radius: 0 0 10px 10px;
            animation: falling 2s linear infinite;
        }

        .plant-container {
            position: relative;
            height: 150px;
            width: 100%;
            margin-top: 20px;
        }

        .plant {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            transition: height 2s ease;
        }

        .stem {
            width: 10px;
            background: linear-gradient(to top, #2E8B57, #3CB371);
            border-radius: 5px 5px 0 0;
            margin: 0 auto;
        }

        .leaf {
            position: absolute;
            width: 30px;
            height: 20px;
            background: var(--green-medium);
            border-radius: 0 50% 0 50%;
            transform-origin: bottom center;
        }

        /* ===== SCENE 3: BLOOMING FLOWER ===== */
        .flower-container {
            margin: 30px 0;
            height: 250px;
            width: 250px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .petal {
            position: absolute;
            width: 60px;
            height: 100px;
            background: linear-gradient(135deg, var(--pink-medium), var(--pink-dark));
            border-radius: 0 50% 0 50%;
            transform-origin: bottom center;
            cursor: pointer;
            transition: all 1s ease;
            box-shadow: inset 5px -5px 10px rgba(255, 255, 255, 0.5),
                        inset -5px 5px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 20px;
        }

        .petal:hover {
            filter: brightness(1.2);
        }

        .flower-center {
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, var(--gold), #FFA500);
            border-radius: 50%;
            position: absolute;
            z-index: 5;
            cursor: pointer;
            transition: all 0.5s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 0 30px var(--gold);
        }

        .flower-center:hover {
            transform: scale(1.2);
            box-shadow: 0 0 50px var(--gold);
        }

        .memory-text {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            max-width: 300px;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 10;
            pointer-events: none;
        }

        /* ===== SCENE 4: PROPOSAL ===== */
        .proposal-container {
            margin: 30px 0;
            position: relative;
        }

        .magic-ring {
            font-size: 80px;
            margin: 20px 0;
            animation: ringGlow 3s infinite alternate;
            filter: drop-shadow(0 0 20px var(--gold));
        }

        .love-letter {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-left: 5px solid var(--pink-dark);
            text-align: left;
            font-style: italic;
            line-height: 1.8;
            max-height: 200px;
            overflow-y: auto;
        }

        /* ===== BUTTONS ===== */
        .garden-btn {
            background: linear-gradient(135deg, var(--pink-medium), var(--pink-dark));
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 20px;
            font-family: 'Poppins', sans-serif;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 142, 199, 0.4);
            margin-top: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
        }

        .garden-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 142, 199, 0.6);
        }

        .garden-btn:active {
            transform: translateY(-2px);
        }

        .btn-heart {
            animation: heartbeat 1.5s infinite;
        }

        /* ===== ANIMATIONS ===== */
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100px) rotate(360deg); }
        }

        @keyframes flutter {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(20px, -20px) rotate(5deg); }
            50% { transform: translate(-15px, 15px) rotate(-5deg); }
            75% { transform: translate(10px, -10px) rotate(2deg); }
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes seedGlow {
            0% { box-shadow: 0 0 20px #FFD700; }
            100% { box-shadow: 0 0 40px #FFD700, 0 0 60px #FFA500; }
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        @keyframes rainCloud {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }

        @keyframes falling {
            0% { transform: translateY(-20px); opacity: 1; }
            100% { transform: translateY(150px); opacity: 0; }
        }

        @keyframes ringGlow {
            0% { filter: drop-shadow(0 0 15px var(--gold)); }
            100% { filter: drop-shadow(0 0 30px var(--gold)); }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== PROGRESS INDICATOR ===== */
        .progress-dots {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--pink-dark);
            transform: scale(1.3);
            box-shadow: 0 0 10px var(--pink-dark);
        }

        /* ===== MOUSE TRAIL ===== */
        .mouse-trail {
            position: fixed;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, var(--pink-medium), transparent);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            z-index: 9999;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .garden-card {
                padding: 30px 20px;
                width: 95%;
            }
            
            .card-header h1 {
                font-size: 36px;
            }
            
            .flower-container {
                width: 200px;
                height: 200px;
            }
            
            .petal {
                width: 50px;
                height: 80px;
            }
        }

        /* ===== UTILITY ===== */
        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeInUp 1s ease forwards;
        }

        .bounce {
            animation: bounce 0.5s ease infinite alternate;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <!-- MAGICAL BACKGROUND ELEMENTS -->
    <div class="magic-bg" id="magicBg"></div>
    
    <!-- MOUSE TRAIL EFFECT -->
    <div class="mouse-trail" id="mouseTrail"></div>

    <!-- PROGRESS INDICATOR -->
    <div class="progress-dots" id="progressDots">
        <div class="progress-dot active" data-scene="1"></div>
        <div class="progress-dot" data-scene="2"></div>
        <div class="progress-dot" data-scene="3"></div>
        <div class="progress-dot" data-scene="4"></div>
    </div>

    <!-- SCENE 1: THE SEED -->
    <div class="scene active" id="scene1">
        <div class="garden-card fade-in">
            <div class="flower-border">
                <div class="flower-corner top-left">üå∏</div>
                <div class="flower-corner top-right">üå∫</div>
                <div class="flower-corner bottom-left">üíÆ</div>
                <div class="flower-corner bottom-right">üèµÔ∏è</div>
            </div>
            
            <div class="card-header">
                <h1>Our Secret Garden</h1>
                <p>Every beautiful thing begins with a single moment.<br>Let's plant ours together.</p>
            </div>
            
            <div class="seed-container">
                <div class="breath-instruction">
                    <div class="breath-icon">üí®</div>
                    <span>Click and hold the seed to give it life</span>
                </div>
                
                <div class="seed" id="magicSeed">
                    <i class="fas fa-seedling"></i>
                </div>
                
                <p id="seedMessage">This seed holds all our potential. Nurture it with love.</p>
            </div>
        </div>
    </div>

    <!-- SCENE 2: NURTURING CLOUDS -->
    <div class="scene" id="scene2">
        <div class="garden-card">
            <div class="flower-border">
                <div class="flower-corner top-left">üå±</div>
                <div class="flower-corner top-right">‚òÅÔ∏è</div>
                <div class="flower-corner bottom-left">üíß</div>
                <div class="flower-corner bottom-right">üåø</div>
            </div>
            
            <div class="card-header">
                <h1>Nurturing Our Love</h1>
                <p>Love grows when watered with care, patience, and tender moments.</p>
            </div>
            
            <div class="sky-container" id="skyContainer">
                <!-- Clouds will be generated here -->
            </div>
            
            <div class="plant-container">
                <div class="plant" id="plant">
                    <div class="stem" id="plantStem"></div>
                    <!-- Leaves will be added here -->
                </div>
            </div>
            
            <p id="rainMessage">Click the clouds to make it rain love! (3 times)</p>
        </div>
    </div>

    <!-- SCENE 3: BLOOMING FLOWER -->
    <div class="scene" id="scene3">
        <div class="garden-card">
            <div class="flower-border">
                <div class="flower-corner top-left">üå∑</div>
                <div class="flower-corner top-right">üåπ</div>
                <div class="flower-corner bottom-left">üåº</div>
                <div class="flower-corner bottom-right">üíê</div>
            </div>
            
            <div class="card-header">
                <h1>Our Memories Bloom</h1>
                <p>Each petal holds a beautiful memory we've created together.</p>
            </div>
            
            <div class="flower-container" id="flowerContainer">
                <!-- Petals will be generated here -->
                <div class="flower-center" id="flowerCenter">
                    <i class="fas fa-gem"></i>
                </div>
            </div>
            
            <div class="memory-text" id="memoryText"></div>
            
            <p id="flowerMessage">Click each petal to reveal our special moments</p>
        </div>
    </div>

    <!-- SCENE 4: THE PROPOSAL -->
    <div class="scene" id="scene4">
        <div class="garden-card">
            <div class="flower-border">
                <div class="flower-corner top-left">‚ú®</div>
                <div class="flower-corner top-right">üíñ</div>
                <div class="flower-corner bottom-left">üåü</div>
                <div class="flower-corner bottom-right">üí´</div>
            </div>
            
            <div class="card-header">
                <h1>My Heart's Garden</h1>
                <p>From a tiny seed to this beautiful bloom, you've made everything grow.</p>
            </div>
            
            <div class="proposal-container">
                <div class="magic-ring">üíç</div>
                
                <div class="love-letter">
                    <p>My dearest love,</p>
                    <p>Watching our love grow has been the most beautiful journey of my life. Like this garden, what started as a simple seed has blossomed into something magical, vibrant, and everlasting.</p>
                    <p>Every moment with you feels like springtime in my heart.</p>
                </div>
                
                <h2 style="color: var(--pink-dark); margin: 20px 0; font-family: 'Dancing Script', cursive; font-size: 36px;">
                    Will you make me the happiest person and be mine forever?
                </h2>
                
                <button class="garden-btn" id="proposalYes">
                    <span class="btn-heart">üíñ</span>
                    YES, A THOUSAND TIMES YES!
                    <span class="btn-heart">üíñ</span>
                </button>
                
                <button class="garden-btn" id="proposalMore" style="background: linear-gradient(135deg, var(--purple-medium), #B19CD9); margin-top: 10px;">
                    <i class="fas fa-envelope"></i>
                    Tell me more sweet things first...
                </button>
            </div>
        </div>
    </div>

    <!-- CONFETTI CANVAS -->
    <canvas id="confettiCanvas" style="position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:999;"></canvas>

    <script>
        // ===== GLOBAL VARIABLES =====
        let currentScene = 1;
        let seedHeld = false;
        let rainCount = 0;
        let petalsOpened = 0;
        const totalPetals = 8;
        
        // Memory messages for each petal
        const memories = [
            "Our first laugh together",
            "That sunset walk holding hands",
            "When you surprised me with breakfast",
            "Our inside jokes that no one else gets",
            "The way you look at me",
            "How you remember all the small things",
            "Our future dreams we share",
            "Every 'I love you' whispered"
        ];

        // ===== INITIAL SETUP =====
        document.addEventListener('DOMContentLoaded', function() {
            createBackgroundMagic();
            setupScene1();
            setupMouseTrail();
            updateProgressDots();
            
            // Add some initial animations
            setTimeout(() => {
                document.querySelector('.garden-card').classList.add('animate__animated', 'animate__pulse');
            }, 1000);
        });

        // ===== CREATE MAGICAL BACKGROUND =====
        function createBackgroundMagic() {
            const bg = document.getElementById('magicBg');
            
            // Create sparkles
            for (let i = 0; i < 50; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = `${Math.random() * 100}%`;
                sparkle.style.top = `${Math.random() * 100}%`;
                sparkle.style.animationDelay = `${Math.random() * 3}s`;
                sparkle.style.width = `${Math.random() * 6 + 3}px`;
                sparkle.style.height = sparkle.style.width;
                bg.appendChild(sparkle);
            }
            
            // Create floating hearts
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = 'üíñ';
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.animationDuration = `${Math.random() * 10 + 10}s`;
                heart.style.fontSize = `${Math.random() * 15 + 10}px`;
                heart.style.opacity = Math.random() * 0.3 + 0.1;
                bg.appendChild(heart);
            }
            
            // Create butterflies
            for (let i = 0; i; i < 8; i++) {
                createButterfly();
            }
        }

        function createButterfly() {
            const bg = document.getElementById('magicBg');
            const butterfly = document.createElement('div');
            butterfly.className = 'butterfly';
            butterfly.style.left = `${Math.random() * 100}%`;
            butterfly.style.top = `${Math.random() * 100}%`;
            butterfly.style.animationDuration = `${Math.random() * 5 + 8}s`;
            butterfly.style.width = `${Math.random() * 20 + 30}px`;
            butterfly.style.height = butterfly.style.width;
            bg.appendChild(butterfly);
        }

        // ===== MOUSE TRAIL EFFECT =====
        function setupMouseTrail() {
            const trail = document.getElementById('mouseTrail');
            let mouseX = 0, mouseY = 0;
            let trailX = 0, trailY = 0;
            
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });
            
            function animateTrail() {
                // Move trail toward mouse position
                trailX += (mouseX - trailX) * 0.2;
                trailY += (mouseY - trailY) * 0.2;
                
                trail.style.left = `${trailX - 10}px`;
                trail.style.top = `${trailY - 10}px`;
                
                // Fade in when moving, fade out when still
                const dx = mouseX - trailX;
                const dy = mouseY - trailY;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance > 5) {
                    trail.style.opacity = '0.7';
                    trail.style.transform = `scale(${1 + distance * 0.01})`;
                } else {
                    trail.style.opacity = '0';
                }
                
                requestAnimationFrame(animateTrail);
            }
            
            animateTrail();
        }

        // ===== SCENE 1: THE SEED =====
        function setupScene1() {
            const seed = document.getElementById('magicSeed');
            const seedMessage = document.getElementById('seedMessage');
            
            let holdTimer;
            
            // Mouse events for PC
            seed.addEventListener('mousedown', () => {
                seedHeld = true;
                seed.classList.add('glow');
                seedMessage.textContent = "Keep holding... Our love is growing!";
                
                holdTimer = setTimeout(() => {
                    // Transition to next scene
                    seedMessage.textContent = "Perfect! Our love has sprouted! üå±";
                    seed.innerHTML = '<i class="fas fa-leaf" style="color: #2E8B57;"></i>';
                    
                    setTimeout(() => {
                        switchScene(2);
                    }, 1500);
                }, 3000); // Hold for 3 seconds
            });
            
            seed.addEventListener('mouseup', () => {
                if (!seedHeld) return;
                
                seedHeld = false;
                seed.classList.remove('glow');
                clearTimeout(holdTimer);
                
                if (seedMessage.textContent.includes("Keep holding")) {
                    seedMessage.textContent = "Almost! Try holding a little longer üíï";
                    seed.style.animation = 'none';
                    setTimeout(() => {
                        seed.style.animation = '';
                    }, 10);
                }
            });
            
            seed.addEventListener('mouseleave', () => {
                if (seedHeld) {
                    seedHeld = false;
                    seed.classList.remove('glow');
                    clearTimeout(holdTimer);
                    seedMessage.textContent = "Don't let go! Come back to the seed üíï";
                }
            });
            
            // Touch events for mobile
            seed.addEventListener('touchstart', (e) => {
                e.preventDefault();
                seedHeld = true;
                seed.classList.add('glow');
                seedMessage.textContent = "Keep holding... Our love is growing!";
                
                holdTimer = setTimeout(() => {
                    seedMessage.textContent = "Perfect! Our love has sprouted! üå±";
                    seed.innerHTML = '<i class="fas fa-leaf" style="color: #2E8B57;"></i>';
                    
                    setTimeout(() => {
                        switchScene(2);
                    }, 1500);
                }, 3000);
            });
            
            seed.addEventListener('touchend', (e) => {
                e.preventDefault();
                if (!seedHeld) return;
                
                seedHeld = false;
                seed.classList.remove('glow');
                clearTimeout(holdTimer);
                
                if (seedMessage.textContent.includes("Keep holding")) {
                    seedMessage.textContent = "Almost! Try holding a little longer üíï";
                }
            });
        }

        // ===== SCENE 2: RAIN CLOUDS =====
        function setupScene2() {
            const skyContainer = document.getElementById('skyContainer');
            const plantStem = document.getElementById('plantStem');
            const rainMessage = document.getElementById('rainMessage');
            
            // Clear previous clouds
            skyContainer.innerHTML = '';
            
            // Create 3 clouds at different positions
            const cloudPositions = [
                { top: '20%', left: '15%' },
                { top: '10%', left: '50%' },
                { top: '25%', left: '75%' }
            ];
            
            cloudPositions.forEach((pos, index) => {
                const cloud = document.createElement('div');
                cloud.className = 'cloud';
                cloud.style.top = pos.top;
                cloud.style.left = pos.left;
                cloud.style.width = `${Math.random() * 60 + 70}px`;
                cloud.style.height = `${Math.random() * 40 + 50}px`;
                cloud.innerHTML = '‚òÅÔ∏è';
                cloud.dataset.index = index;
                
                cloud.addEventListener('click', () => {
                    if (cloud.classList.contains('active')) return;
                    
                    cloud.classList.add('active');
                    rainCount++;
                    
                    // Create rain drops
                    createRainDrops(cloud);
                    
                    // Grow the plant
                    const stemHeight = 30 + (rainCount * 40);
                    plantStem.style.height = `${stemHeight}px`;
                    
                    // Add leaves
                    if (rainCount <= 3) {
                        addLeaf(rainCount);
                    }
                    
                    // Update message
                    rainMessage.textContent = `Love rain ${rainCount}/3! The plant is growing!`;
                    
                    // Check if all clouds have been clicked
                    if (rainCount === 3) {
                        rainMessage.textContent = "Beautiful! Our love plant is thriving! üåø";
                        
                        setTimeout(() => {
                            switchScene(3);
                        }, 2000);
                    }
                });
                
                skyContainer.appendChild(cloud);
            });
            
            // Reset rain count
            rainCount = 0;
            
            // Initial plant stem
            plantStem.style.height = '30px';
        }

        function createRainDrops(cloud) {
            const rect = cloud.getBoundingClientRect();
            const containerRect = document.getElementById('skyContainer').getBoundingClientRect();
            
            for (let i = 0; i < 10; i++) {
                const drop = document.createElement('div');
                drop.className = 'rain-drop';
                drop.style.left = `${rect.left - containerRect.left + Math.random() * rect.width}px`;
                drop.style.top = `${rect.bottom - containerRect.top}px`;
                drop.style.animationDelay = `${Math.random()}s`;
                
                document.getElementById('skyContainer').appendChild(drop);
                
                // Remove after animation
                setTimeout(() => {
                    if (drop.parentNode) {
                        drop.parentNode.removeChild(drop);
                    }
                }, 2000);
            }
        }

        function addLeaf(leafNum) {
            const plant = document.getElementById('plant');
            const leaf = document.createElement('div');
            leaf.className = 'leaf';
            
            // Position leaves at different heights and angles
            const positions = [
                { bottom: '40px', left: '50%', transform: 'rotate(-30deg)' },
                { bottom: '80px', left: '45%', transform: 'rotate(20deg)' },
                { bottom: '120px', left: '55%', transform: 'rotate(-15deg)' }
            ];
            
            if (leafNum <= positions.length) {
                const pos = positions[leafNum - 1];
                leaf.style.bottom = pos.bottom;
                leaf.style.left = pos.left;
                leaf.style.transform = pos.transform;
                plant.appendChild(leaf);
            }
        }

        // ===== SCENE 3: BLOOMING FLOWER =====
        function setupScene3() {
            const flowerContainer = document.getElementById('flowerContainer');
            const flowerCenter = document.getElementById('flowerCenter');
            const memoryText = document.getElementById('memoryText');
            const flowerMessage = document.getElementById('flowerMessage');
            
            // Clear previous petals
            const existingPetals = flowerContainer.querySelectorAll('.petal');
            existingPetals.forEach(petal => petal.remove());
            
            petalsOpened = 0;
            
            // Create 8 petals in a circle
            for (let i = 0; i < totalPetals; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.dataset.index = i;
                petal.dataset.memory = memories[i];
                
                // Calculate position in a circle
                const angle = (i / totalPetals) * 2 * Math.PI;
                const radius = 100;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                
                // Initial closed position
                petal.style.transform = `translate(${x}px, ${y}px) rotate(${angle}rad) scale(0.1)`;
                petal.style.opacity = '0.5';
                
                // Add flower emoji based on position
                const flowerEmojis = ['üå∏', 'üå∫', 'üå∑', 'üåπ', 'üèµÔ∏è', 'üíÆ', 'ü•Ä', 'üåª'];
                petal.innerHTML = flowerEmojis[i];
                
                petal.addEventListener('click', () => {
                    if (petal.classList.contains('opened')) return;
                    
                    // Open the petal
                    petal.classList.add('opened');
                    petal.style.transform = `translate(${x * 1.3}px, ${y * 1.3}px) rotate(${angle}rad) scale(1)`;
                    petal.style.opacity = '1';
                    petalsOpened++;
                    
                    // Show memory text
                    memoryText.textContent = petal.dataset.memory;
                    memoryText.style.opacity = '1';
                    
                    // Position memory text near the petal
                    memoryText.style.left = `${x + 150}px`;
                    memoryText.style.top = `${y + 120}px`;
                    
                    // Hide memory text after 3 seconds
                    setTimeout(() => {
                        memoryText.style.opacity = '0';
                    }, 3000);
                    
                    // Update message
                    flowerMessage.textContent = `${petalsOpened}/${totalPetals} memories revealed!`;
                    
                    // If all petals are opened, make center clickable
                    if (petalsOpened === totalPetals) {
                        flowerMessage.textContent = "All our beautiful memories! Now touch the heart of our flower üíñ";
                        flowerCenter.style.cursor = 'pointer';
                        flowerCenter.style.animation = 'heartbeat 1s infinite';
                        
                        flowerCenter.addEventListener('click', () => {
                            flowerMessage.textContent = "Our love is in full bloom! üíê";
                            flowerCenter.innerHTML = 'üíñ';
                            flowerCenter.style.background = 'radial-gradient(circle, #FF69B4, #FF1493)';
                            flowerCenter.style.boxShadow = '0 0 60px #FF69B4';
                            
                            setTimeout(() => {
                                switchScene(4);
                            }, 2000);
                        }, { once: true });
                    }
                });
                
                flowerContainer.appendChild(petal);
            }
            
            // Reset flower center
            flowerCenter.innerHTML = '<i class="fas fa-gem"></i>';
            flowerCenter.style.background = 'radial-gradient(circle, var(--gold), #FFA500)';
            flowerCenter.style.boxShadow = '0 0 30px var(--gold)';
            flowerCenter.style.cursor = 'default';
            flowerCenter.style.animation = '';
            
            // Remove any existing event listeners by cloning
            const newCenter = flowerCenter.cloneNode(true);
            flowerCenter.parentNode.replaceChild(newCenter, flowerCenter);
            
            // Reset memory text
            memoryText.style.opacity = '0';
            flowerMessage.textContent = "Click each petal to reveal our special moments";
        }

        // ===== SCENE 4: THE PROPOSAL =====
        function setupScene4() {
            const yesBtn = document.getElementById('proposalYes');
            const moreBtn = document.getElementById('proposalMore');
            
            yesBtn.addEventListener('click', () => {
                // Create confetti celebration
                createConfetti();
                
                // Play celebration sound if available
                playCelebrationSound();
                
                // Change button text
                yesBtn.innerHTML = '<i class="fas fa-heart"></i> YOU SAID YES! <i class="fas fa-heart"></i>';
                yesBtn.style.background = 'linear-gradient(135deg, #4CAF50, #2E7D32)';
                yesBtn.style.boxShadow = '0 0 40px #4CAF50';
                yesBtn.disabled = true;
                
                // Show additional sweet message
                setTimeout(() => {
                    const card = document.querySelector('#scene4 .garden-card');
                    const newMessage = document.createElement('div');
                    newMessage.className = 'love-letter';
                    newMessage.style.marginTop = '20px';
                    newMessage.style.animation = 'fadeInUp 1s ease forwards';
                    newMessage.innerHTML = `
                        <p style="text-align:center; font-weight:bold; color: var(--pink-dark);">
                            This is just the beginning of our forever! üåà<br>
                            I can't wait to build our life together. üíï
                        </p>
                        <p style="text-align:center; margin-top:15px;">
                            <i class="fas fa-heart" style="color:#FF1493;"></i>
                            <i class="fas fa-heart" style="color:#FF69B4;"></i>
                            <i class="fas fa-heart" style="color:#FF8EC7;"></i>
                        </p>
                    `;
                    card.appendChild(newMessage);
                    
                    // Add option to share or continue
                    setTimeout(() => {
                        const shareBtn = document.createElement('button');
                        shareBtn.className = 'garden-btn';
                        shareBtn.style.background = 'linear-gradient(135deg, #36D1DC, #5B86E5)';
                        shareBtn.style.marginTop = '15px';
                        shareBtn.innerHTML = '<i class="fas fa-share-alt"></i> Save This Moment';
                        shareBtn.onclick = () => {
                            alert("Take a screenshot to save this special moment! üíñ\n\nOr press Ctrl+P (Cmd+P on Mac) to print it as a keepsake!");
                        };
                        card.appendChild(shareBtn);
                    }, 1000);
                }, 1000);
            });
            
            moreBtn.addEventListener('click', () => {
                const card = document.querySelector('#scene4 .garden-card');
                const extraLove = document.createElement('div');
                extraLove.className = 'love-letter';
                extraLove.style.marginTop = '20px';
                extraLove.style.animation = 'fadeInUp 1s ease forwards';
                extraLove.innerHTML = `
                    <h3 style="color: var(--pink-dark); margin-bottom: 15px; text-align: center;">More Reasons Why I Love You:</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="padding: 5px 0;"><i class="fas fa-heart" style="color: #FF69B4;"></i> Your smile lights up my world</li>
                        <li style="padding: 5px 0;"><i class="fas fa-heart" style="color: #FF69B4;"></i> How you make ordinary moments magical</li>
                        <li style="padding: 5px 0;"><i class="fas fa-heart" style="color: #FF69B4;"></i> Your kindness to everyone around you</li>
                        <li style="padding: 5px 0;"><i class="fas fa-heart" style="color: #FF69B4;"></i> The way you believe in us</li>
                        <li style="padding: 5px 0;"><i class="fas fa-heart" style="color: #FF69B4;"></i> Every little thing that makes you, YOU</li>
                    </ul>
                    <p style="text-align: center; margin-top: 15px; font-weight: bold;">
                        Now will you make me the happiest person? üíç
                    </p>
                `;
                card.appendChild(extraLove);
                
                // Scroll to show the new content
                extraLove.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
                // Hide the "more" button after clicking
                moreBtn.style.display = 'none';
            });
        }

        // ===== SCENE MANAGEMENT =====
        function switchScene(newScene) {
            // Hide current scene
            document.getElementById(`scene${currentScene}`).classList.remove('active');
            
            // Update progress dots
            const oldDot = document.querySelector(`.progress-dot[data-scene="${currentScene}"]`);
            if (oldDot) oldDot.classList.remove('active');
            
            // Show new scene
            currentScene = newScene;
            document.getElementById(`scene${currentScene}`).classList.add('active');
            
            // Update progress dots
            const newDot = document.querySelector(`.progress-dot[data-scene="${currentScene}"]`);
            if (newDot) newDot.classList.add('active');
            
            // Setup the new scene
            switch(newScene) {
                case 2:
                    setTimeout(setupScene2, 500);
                    break;
                case 3:
                    setTimeout(setupScene3, 500);
                    break;
                case 4:
                    setTimeout(setupScene4, 500);
                    // Add extra magic to final scene
                    addFinalSceneMagic();
                    break;
            }
        }

        function updateProgressDots() {
            const dots = document.querySelectorAll('.progress-dot');
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const sceneNum = parseInt(dot.dataset.scene);
                    if (sceneNum < currentScene) {
                        switchScene(sceneNum);
                    }
                });
            });
        }

        // ===== FINAL SCENE MAGIC =====
        function addFinalSceneMagic() {
            // Add extra sparkles
            const bg = document.getElementById('magicBg');
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = `${Math.random() * 100}%`;
                    sparkle.style.top = `${Math.random() * 100}%`;
                    sparkle.style.background = `radial-gradient(circle, ${i % 3 === 0 ? '#FFD700' : i % 3 === 1 ? '#FF69B4' : '#36D1DC'}, transparent)`;
                    sparkle.style.width = `${Math.random() * 10 + 5}px`;
                    sparkle.style.height = sparkle.style.width;
                    sparkle.style.animation = `sparkle ${Math.random() * 2 + 1}s infinite`;
                    bg.appendChild(sparkle);
                    
                    // Remove after animation
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.parentNode.removeChild(sparkle);
                        }
                    }, 3000);
                }, i * 100);
            }
            
            // Make the ring pulse
            const ring = document.querySelector('.magic-ring');
            ring.style.animation = 'ringGlow 1.5s infinite alternate, heartbeat 2s infinite';
        }

        // ===== CONFETTI CELEBRATION =====
        function createConfetti() {
            const canvas = document.getElementById('confettiCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const confettiPieces = [];
            const colors = ['#FF69B4', '#FFD700', '#36D1DC', '#FF8EC7', '#5B86E5'];
            
            // Create confetti pieces
            for (let i = 0; i < 150; i++) {
                confettiPieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    r: Math.random() * 10 + 5,
                    d: Math.random() * 5 + 2,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    tilt: Math.floor(Math.random() * 10) - 10,
                    tiltAngleIncrement: Math.random() * 0.07 + 0.05,
                    tiltAngle: 0
                });
            }
            
            function drawConfetti() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                confettiPieces.forEach(p => {
                    ctx.beginPath();
                    ctx.lineWidth = p.d;
                    ctx.strokeStyle = p.color;
                    ctx.moveTo(p.x + p.tilt + p.r, p.y);
                    ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r);
                    ctx.stroke();
                    
                    // Update position
                    p.y += p.d;
                    p.tiltAngle += p.tiltAngleIncrement;
                    p.tilt = Math.sin(p.tiltAngle) * 15;
                    
                    // Reset if off screen
                    if (p.y > canvas.height) {
                        p.y = -20;
                        p.x = Math.random() * canvas.width;
                    }
                });
                
                requestAnimationFrame(drawConfetti);
            }
            
            drawConfetti();
            
            // Resize handler
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

        // ===== CELEBRATION SOUND =====
        function playCelebrationSound() {
            // Try to play a celebration sound using Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const playBellSound = () => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    // Play a happy ascending scale
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
                    oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
                    oscillator.frequency.setValueAtTime(1046.50, audioContext.currentTime + 0.3); // C6
                    
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.5);
                };
                
                // Play multiple bell sounds
                playBellSound();
                setTimeout(() => playBellSound(), 100);
                setTimeout(() => playBellSound(), 200);
            } catch (e) {
                // Audio not supported or user hasn't interacted yet
                console.log("Audio not available, visual celebration only");
            }
        }

        // ===== ADDITIONAL INTERACTIONS =====
        // Easter egg: double click anywhere for extra hearts
        let clickCount = 0;
        let lastClickTime = 0;
        
        document.addEventListener('click', (e) => {
            const currentTime = new Date().getTime();
            const timeDiff = currentTime - lastClickTime;
            
            if (timeDiff < 300) { // Double click detected
                clickCount++;
                
                // Create a heart at click location
                const heart = document.createElement('div');
                heart.style.position = 'fixed';
                heart.style.left = `${e.clientX - 20}px`;
                heart.style.top = `${e.clientY - 20}px`;
                heart.style.fontSize = '40px';
                heart.style.zIndex = '9999';
                heart.style.pointerEvents = 'none';
                heart.style.animation = 'float 3s ease forwards';
                heart.innerHTML = 'üíù';
                
                document.body.appendChild(heart);
                
                // Remove after animation
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.parentNode.removeChild(heart);
                    }
                }, 3000);
                
                // Secret message after 5 double clicks
                if (clickCount === 5) {
                    const secretMsg = document.createElement('div');
                    secretMsg.style.position = 'fixed';
                    secretMsg.style.top = '50%';
                    secretMsg.style.left = '50%';
                    secretMsg.style.transform = 'translate(-50%, -50%)';
                    secretMsg.style.background = 'rgba(255, 255, 255, 0.95)';
                    secretMsg.style.padding = '30px';
                    secretMsg.style.borderRadius = '20px';
                    secretMsg.style.boxShadow = '0 20px 60px rgba(0,0,0,0.3)';
                    secretMsg.style.zIndex = '10000';
                    secretMsg.style.textAlign = 'center';
                    secretMsg.style.maxWidth = '400px';
                    secretMsg.innerHTML = `
                        <h3 style="color: var(--pink-dark); margin-bottom: 15px;">You found the secret! üéÅ</h3>
                        <p>I put extra love in every pixel of this for you. üíï</p>
                        <p>Just like I'll put extra love in every day with you.</p>
                        <button onclick="this.parentNode.remove()" style="margin-top:20px; padding:10px 20px; background:var(--pink-dark); color:white; border:none; border-radius:20px; cursor:pointer;">
                            Close
                        </button>
                    `;
                    document.body.appendChild(secretMsg);
                }
            }
            
            lastClickTime = currentTime;
        });

        // Easter egg: type "love" for special effect
        let typedString = '';
        document.addEventListener('keydown', (e) => {
            typedString += e.key.toLowerCase();
            if (typedString.length > 4) typedString = typedString.slice(-4);
            
            if (typedString === 'love') {
                // Create floating hearts animation
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.style.position = 'fixed';
                        heart.style.left = `${Math.random() * 100}%`;
                        heart.style.bottom = '0';
                        heart.style.fontSize = `${Math.random() * 30 + 20}px`;
                        heart.style.zIndex = '9999';
                        heart.style.pointerEvents = 'none';
                        heart.style.animation = `float ${Math.random() * 3 + 2}s ease forwards`;
                        heart.innerHTML = 'üíó';
                        
                        document.body.appendChild(heart);
                        
                        setTimeout(() => {
                            if (heart.parentNode) {
                                heart.parentNode.removeChild(heart);
                            }
                        }, 5000);
                    }, i * 100);
                }
                
                typedString = ''; // Reset
            }
        });

        // Make the whole experience responsive
        window.addEventListener('resize', () => {
            // Refresh scene setups if needed
            if (currentScene === 2) setupScene2();
            if (currentScene === 3) setupScene3();
        });
    </script>
</body>
</html>